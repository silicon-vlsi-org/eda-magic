%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: tutscm2.dvi
%%Pages: 4
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Italic Times-Roman
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSCommandLine: dvips tutscm2.dvi -o tutscm2.ps
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 2001.09.26:1352
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: Times-Bold
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (tutscm2.dvi)
@start /Fa 133[44 50 50 1[50 55 33 39 44 1[55 50 55 83
28 2[28 55 50 33 44 55 44 55 50 30[66 2[50 1[57 2[33
3[50 50 50 50 50 50 2[25 33 1[57 50 33 33 33 3[50 1[33
30[55 2[{ TeXBase1Encoding ReEncodeFont }42 100.000003
/Times-Bold rf /Fb 138[66 40 47 53 2[60 66 100 33 2[33
66 2[53 66 53 1[60 12[80 6[113 9[86 8[40 55[66 2[{
 TeXBase1Encoding ReEncodeFont }19 119.999948 /Times-Bold
rf /Fc 105[50 1[44 44 24[44 50 50 72 50 50 28 39 33 50
50 50 50 78 28 50 1[28 50 50 33 44 50 44 50 44 9[94 2[61
55 66 1[55 1[72 89 3[33 72 1[55 61 72 66 66 72 6[28 50
1[50 50 50 50 50 50 50 50 1[25 33 25 2[33 33 33 3[50
32[55 2[{ TeXBase1Encoding ReEncodeFont }61 100.000003
/Times-Roman rf /Fd 139[28 1[39 2[50 50 3[28 28 50 2[44
3[50 14[61 3[66 83 35[33 33 40[{ TeXBase1Encoding ReEncodeFont }14
100.000003 /Times-Italic rf /Fe 133[64 1[72 104 72 80
48 56 64 2[72 80 120 40 2[40 80 72 48 64 80 64 80 72
9[143 2[96 80 5[135 96 5[88 3[96 7[48 3[72 72 72 72 72
72 3[48 9[72 35[{ TeXBase1Encoding ReEncodeFont }37 143.999997
/Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: Letter

%%EndSetup
%%Page: 1 1
1 0 bop 787 101 a Fe(Magic)35 b(T)-13 b(utorial)34 b(#S-2:)43
b(Boxes)35 b(and)g(labels)1655 521 y Fd(Rajit)24 b(Manohar)1282
941 y Fc(Department)g(of)h(Computer)f(Science)1271 1062
y(California)h(Institute)f(of)h(T)-7 b(echnology)1534
1182 y(P)o(asadena,)25 b(CA)h(91125)1053 1453 y(This)e(tutorial)g
(corresponds)g(to)g(Magic)h(v)o(ersion)e(7.)0 1973 y
Fb(T)-11 b(utorials)30 b(to)f(r)n(ead)h(\002rst:)300
2171 y Fc(Magic)24 b(T)l(utorial)g(#S-1:)31 b(The)24
b(scheme)h(command-line)f(interpreter)0 2368 y Fb(Commands)29
b(intr)n(oduced)j(in)f(this)f(tutorial:)300 2566 y Fc(:getbox,)24
b(:box.push,)f(:box.pop,)g(:box.mo)o(v)o(e,)f(:label.v)o(ert,)i
(:label.horiz,)300 2686 y(:label.rename,)g(:label.search,)h
(:label.\002nd-ne)o(xt)0 2884 y Fb(Macr)n(os)k(intr)n(oduced)i(in)g
(this)f(tutorial:)300 3104 y Fd(\(None\))0 3693 y Fe(1)143
b(The)35 b(curr)m(ent)g(box)0 3916 y Fc(The)28 b(fundamental)e(w)o(ay)i
(scheme)f(programs)g(interact)h(with)e(magic)h(layout)g(is)g(by)h
(using)e(magic')-5 b(s)27 b Fa(box)g Fc(com-)0 4037 y(mand.)j(F)o(or)25
b(instance,)900 4257 y Fa(\(box)g(1)g(1)g(2)f(2\))146
4478 y Fc(changes)d(the)g(current)g(box)f(to)g(the)h(rectangle)g
(de\002ned)g(by)g(the)f(coordinates)h(\(1,1\))f(and)h(\(2,2\))g(in)f
(the)h(current)0 4598 y(edit)k(cell.)32 b(This)25 b(is)f(the)i
(standard)e(magic)h Fa(:box)h Fc(command.)31 b(After)26
b(mo)o(ving)d(the)i(box)g(to)g(a)h(particular)f(position)0
4718 y(in)f(the)h(layout,)f(the)h(area)g(can)h(be)f(painted,)f(erased,)
h(selected,)g(etc.)146 4839 y(The)g(scheme)g(function)f
Fa(getbox)h Fc(returns)g(the)f(current)h(box)g(as)f(a)i(list)d(of)i
(four)g(inte)o(gers.)30 b(F)o(or)25 b(instance,)900 5059
y Fa(\(box)g(1)g(1)g(2)f(2\))900 5180 y(\(de\002ne)j(x)d(\(getbox\)\))
146 5400 y Fc(will)g(bind)g(the)h(list)f Fa(\(1)h(1)f(2)h(2\))g
Fc(to)f(v)n(ariable)h Fa(x)p Fc(.)1875 5649 y(\2261\226)p
eop
%%Page: 2 2
2 1 bop 0 -180 a Fc(September)25 b(26,)f(2001)1559 b(Magic)24
b(T)l(utorial)g(#S-2:)30 b(Box)o(es)25 b(and)g(labels)0
99 y Fe(2)143 b(Sa)l(ving)35 b(and)g(r)m(estoring)f(the)h(box)0
322 y Fc(If)29 b(a)h(scheme)f(function)f(mo)o(v)o(es)f(the)i(current)g
(box)g(around,)g(it)g(is)f(good)h(practice)g(to)g(restore)g(the)g(box)f
(back)h(to)0 443 y(its)23 b(original)f(position.)28 b(This)23
b(is)g(especially)g(useful)g(when)g(writing)f(a)i(function)f(that)f
(the)i(user)f(is)g(lik)o(ely)f(to)h(type)0 563 y(on)i(the)f(command)g
(line.)146 683 y Fa(box.push)j Fc(can)f(be)g(used)g(to)f(push)g(a)h
(box)g(onto)f(the)g(current)h(stack)g(of)g(box)o(es.)33
b Fa(box.pop)26 b Fc(restores)g(the)g(box)0 804 y(to)e(the)h(one)g(on)f
(the)h(top)f(of)h(the)g(box)f(stack.)31 b(The)24 b(sequence)900
998 y Fa(\(box.push)i(\(getbox\)\))900 1118 y(\(box)f(1)g(1)g(5)f(4\))
900 1239 y(\(paint)i(poly\))900 1359 y(\(box.pop\))146
1553 y Fc(will)31 b(paint)g(a)g(rectangle)h(of)g(polysilicon)d(from)i
(\(1,1\))h(to)f(\(5,4\),)i(restoring)d(the)i(original)e(position)g(of)h
(the)0 1674 y(box.)0 2009 y Fe(3)143 b(Mo)o(ving)35 b(the)g(box)0
2232 y Fc(Magic')-5 b(s)24 b(b)n(uilt-in)f Fa(mo)o(v)o(e)i
Fc(command)f(is)g(not)g(entirely)g(reliable.)31 b(Sometimes)23
b(mo)o(v)o(e)h(commands)f(are)j(ignored,)0 2353 y(with)j(disastrous)e
(ef)n(fects.)45 b(\(Think)28 b(about)h(what)g(might)f(happen)h(if)h(a)f
(mo)o(v)o(e)f(command)g(w)o(as)i(ignored)e(in)h(the)0
2473 y(middle)g(of)g(dra)o(wing)g(a)h(stack)g(of)g(twenty)f
(transistors)f(.)46 b(.)g(.\))f(The)30 b(scheme)g(function)f
Fa(box.mo)o(v)o(e)g Fc(mo)o(v)o(es)f(the)0 2593 y(box)c(relati)n(v)o(e)
g(to)g(the)h(current)g(position.)900 2787 y Fa(\(box.mo)o(v)o(e)g(5)g
(3\))146 2982 y Fc(will)f(mo)o(v)o(e)g(the)g(box)h(right)f(5)g(lambda)h
(and)f(up)h(3)g(lambda.)0 3316 y Fe(4)143 b(Labelling)34
b(v)o(ertical)g(and)h(horizontal)e(wir)m(es)0 3540 y
Fc(Datapaths)21 b(are)i(usually)d(designed)h(by)h(designing)e(cells)i
(for)g(a)g(single)f(bit)g(of)g(the)h(datapath,)g(and)g(then)f(arraying)
0 3660 y(those)27 b(cells)g(to)g(obtain)f(the)i(complete)e(datapath.)39
b(When)27 b(simulating)e(such)i(designs,)g(it)g(is)g(usually)f
(desirable)0 3781 y(to)e(label)h(wires)g(in)f(the)h(datapath)f(with)g
(names)h(lik)o(e)f(\223name0\224,)h(\223name1\224,)g(up)f(to)h
(\223nameN.)-7 b(\224)146 3901 y(There)21 b(are)h(tw)o(o)e(functions)g
(that)g(can)h(be)g(used)f(to)h(perform)f(such)h(a)g(task.)29
b(The)20 b(function)g Fa(label.v)o(ert)h Fc(returns)0
4022 y(a)j(function)e(that)h(can)h(be)f(used)g(as)h(a)g(labeller)f(for)
g(v)o(ertically)g(arrayed)h(nodes.)30 b Fa(label.horiz)23
b Fc(returns)g(a)h(function)0 4142 y(that)g(can)i(be)e(used)h(as)g(a)g
(labeller)g(for)g(horizontally)e(arrayed)j(nodes.)900
4336 y Fa(\(de\002ne)h(lbl)d(\(label.v)o(ert)1807 4336
y
(") show
 1807 4336 a 59 w Fa(name)2098 4336 y
(") show
 2098 4336 a 86
w Fa(6\))146 4530 y Fc(The)29 b(command)e(abo)o(v)o(e)h(de\002nes)h(a)g
(ne)n(w)f(function)f Fa(lbl)i Fc(that)f(can)h(be)g(used)f(to)g
(generate)h(labels)f(be)o(ginning)0 4651 y(with)213 4651
y
(") show
 213 4651 a 60 w Fc(name0)539 4651 y
(") show
 539 4651 a 95 w
Fc(for)35 b(nodes)h(that)f(are)h(v)o(ertically)e(spaced)i(by)f(6)h
(lambda.)62 b(The)36 b(simplest)e(w)o(ay)h(to)h(use)f(this)0
4771 y(function)24 b(is)g(to)h(bind)f(it)g(to)g(a)i(macro)e(as)h(follo)
n(ws:)900 4965 y Fa(\(macr)n(o)g(1)1302 4965 y
(") show
 1302 4965
a 60 w Fa(lbl)1473 4965 y
(") show
 1473 4965 a 59 w Fa(\))146
5159 y Fc(Place)32 b(the)f(box)g(o)o(v)o(er)f(the)h(lo)n(west)f(node.)
49 b(Ev)o(ery)31 b(time)f(k)o(e)o(y)h(\2231\224)g(is)g(pressed,)i(a)e
(ne)n(w)g(label)g(\223nameM\224)g(is)0 5280 y(created)j(and)f(the)g
(box)g(is)g(mo)o(v)o(ed)e(up)i(by)g(6)g(lambda.)55 b
Fa(label.horiz)34 b Fc(can)f(be)h(used)f(in)g(a)g(similar)f(f)o(ashion)
h(for)0 5400 y(labelling)24 b(nodes)g(that)g(are)i(horizontally)d
(arrayed.)1875 5649 y(\2262\226)p eop
%%Page: 3 3
3 2 bop 0 -180 a Fc(Magic)24 b(T)l(utorial)g(#S-2:)31
b(Box)o(es)24 b(and)h(labels)1558 b(September)25 b(26,)g(2001)0
99 y Fe(5)143 b(Finding)34 b(and)i(r)m(enaming)e(existing)g(labels)0
323 y Fc(The)25 b(label)g(macros)g(pro)o(vide)f(functionality)f(to)i
(search)h(for)f(all)g(labels)g(that)f(match)h(a)h(particular)f(string.)
30 b(Place)0 444 y(the)25 b(box)f(o)o(v)o(er)g(the)h(re)o(gion)f(of)g
(interest.)31 b(T)-8 b(ype:)900 675 y Fa(\(label.sear)n(ch)1463
675 y
(") show
 1463 675 a 59 w Fa(label)1727 675 y
(") show
 1727 675 a
60 w Fa(\))146 906 y Fc(T)g(o)25 b(place)g(the)g(box)f(o)o(v)o(er)g
(the)h(\002rst)g(occurrence)g(of)g(the)g(label)g(you)f(searched)h(for)l
(,)g(type:)900 1138 y Fa(\(label.\002nd-next\))146 1369
y Fc(Repeatedly)20 b(e)o(x)o(ecuting)f(this)f(function)h(causes)h(the)g
(box)f(to)g(mo)o(v)o(e)g(to)g(all)g(the)h(labels)f(that)h(match)f(the)h
(search)0 1490 y(pattern.)30 b(T)-8 b(ypically)i(,)24
b(one)g(w)o(ould)g(bind)g Fa(label.\002nd-next)j Fc(to)d(a)i(macro.)146
1610 y(The)k(command)e Fa(label.r)n(ename)j Fc(can)f(be)g(used)f(to)g
(rename)h(all)f(labels)g(with)g(a)h(particular)f(name.)45
b(T)-8 b(o)29 b(use)0 1731 y(this)24 b(command,)g(place)h(the)f(box)h
(o)o(v)o(er)f(the)g(re)o(gion)g(of)h(interest.)30 b(Then)25
b(type)900 1963 y Fa(\(label.r)n(ename)1507 1963 y
(") show
 1507
1963 a 60 w Fa(label1)1822 1963 y
(") show
 1822 1963 a 1906 1963
a
(") show
 1906 1963 a 60 w Fa(label2)2221 1963 y
(") show
 2221 1963 a
59 w Fa(\))146 2194 y Fc(All)g(occurrences)g(of)g(label)g
(\223label1\224)f(in)h(the)g(current)g(box)f(will)g(be)h(renamed)g(to)f
(\223label2\224.)0 2536 y Fe(6)143 b(Writing)35 b(these)g(functions)0
2760 y Fc(The)h(functions)f(discussed)g(in)g(this)g(tutorial)g(are)i
(not)e(b)n(uilt-in.)63 b(The)o(y)35 b(are)h(user)n(-de\002ned)h
(functions)e(in)g(the)0 2881 y(def)o(ault)25 b(scheme)f(\002le)h
(loaded)g(in)f(when)h(magic)f(starts.)146 3001 y(As)32
b(you)f(be)o(gin)g(to)h(use)f(magic)h(with)f(the)g(scheme)h
(command-line)e(interpreter)l(,)k(you)d(will)g(observ)o(e)h(that)0
3122 y(commands)26 b(for)h(dra)o(wing)g(paint)f(on)h(the)g(screen)h
(are)g(e)o(xtremely)e(slo)n(w)-6 b(.)36 b(This)26 b(time)h(interv)n(al)
f(is)h(not)f(normally)0 3242 y(noticeable)e(because)h(editing)f(is)g
(interacti)n(v)o(e.)29 b(Ho)n(we)n(v)o(er)l(,)24 b(when)g(one)h(can)g
(write)f(a)h(scheme)g(program)f(to)g(dra)o(w)0 3363 y(twenty)k
(transistors)g(on)g(the)h(screen,)h(this)e(delay)h(becomes)f
(noticeable.)43 b(It)28 b(is)h(w)o(orthwhile)f(to)g(minimize)f(the)0
3483 y(number)g(of)g(magic)g(commands)f(e)o(x)o(ecuted,)h(e)n(v)o(en)g
(if)g(this)f(in)l(v)n(olv)o(es)g(writing)g(more)h(scheme)g(code.)39
b(The)27 b Fa(box-)0 3603 y(pop)g Fc(command)e(has)i(been)f(tuned)g(a)h
(little)e(to)h(not)f(e)o(x)o(ecute)h(the)g Fa(box)h Fc(command)e(if)h
(the)h(box)e(w)o(ould)h(not)g(mo)o(v)o(e)0 3724 y(as)f(a)g(result.)300
3955 y Fa(\(de\002ne)i(box.list)d(\(\)\))300 4196 y(\(de\002ne)j
(box.mo)o(v)o(e)600 4317 y(\(lambda)e(\(dx)g(dy\))900
4437 y(\(let*)g(\(\(x)g(\(getbox\)\))1138 4557 y(\(nllx)g(\(+)g(dx)g
(\(car)g(x\)\)\))1138 4678 y(\(nlly)g(\(+)g(dy)g(\(cadr)h(x\)\)\))1138
4798 y(\(nurx)g(\(+)f(dx)g(\(caddr)h(x\)\)\))1138 4918
y(\(nury)g(\(+)f(dy)g(\(cadddr)i(x\)\)\)\))900 5039 y(\(box)e(nllx)g
(nlly)f(nurx)i(nury\))900 5159 y(\))600 5280 y(\))300
5400 y(\))1875 5649 y Fc(\2263\226)p eop
%%Page: 4 4
4 3 bop 0 -180 a Fc(September)25 b(26,)f(2001)1559 b(Magic)24
b(T)l(utorial)g(#S-2:)30 b(Box)o(es)25 b(and)g(labels)300
205 y Fa(\(de\002ne)i(box.=?)600 325 y(\(lambda)e(\(b1)g(b2\))900
445 y(\(and)h(\(and)f(\(=?)31 b(\(car)25 b(b1\))h(\(car)f(b2\)\))g
(\(=?)31 b(\(cadr)26 b(b1\))f(\(cadr)h(b2\)\)\))1138
566 y(\(and)g(\(=?)k(\(caddr)d(b1\))e(\(caddr)h(b2\)\))f(\(=?)31
b(\(caddr)26 b(b1\))g(\(caddr)g(b2\)\)\))900 686 y(\))600
807 y(\))300 927 y(\))300 1168 y(\(de\002ne)h(box.push)600
1288 y(\(lambda)e(\(pos\))900 1408 y(\(set!)31 b(box.list)25
b(\(cons)g(pos)g(box.list\)\))600 1529 y(\))300 1649
y(\))300 1878 y(\(de\002ne)i(box.pop)600 1998 y(\(lambda)e(\(\))900
2118 y(\(if)g(\(null?)31 b(box.list\))1138 2239 y(\(echo)1390
2239 y
(") show
 1390 2239 a 60 w Fa(Box)25 b(list)f(is)g(empty)2149
2239 y
(") show
 2149 2239 a 61 w Fa(\))1138 2359 y(\(let)h(\(\(x)g(\(car)h
(box.list\)\)\))1438 2479 y(\(begin)1438 2600 y(\(set!)32
b(box.list)24 b(\(cdr)i(box.list\)\))1438 2720 y(\(if)f(\(box.=?)31
b(x)24 b(\(getbox\)\))i(#t)f(\(e)o(v)o(al)f(\(cons)h('box)g(x\)\)\))
1438 2841 y(\))1138 2961 y(\))900 3081 y(\))600 3202
y(\))300 3322 y(\))1875 5649 y Fc(\2264\226)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
