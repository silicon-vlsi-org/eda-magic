%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: tuttcl1.dvi
%%Pages: 9
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Italic Times-Roman Courier
%%+ Times-BoldItalic
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -t letter tuttcl1.dvi -o ../psfiles/tuttcl1.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2006.04.12:1204
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (tuttcl1.dvi)
@start /Fa 135[50 2[55 28 39 39 1[50 50 55 78 28 2[28
55 50 1[44 50 44 50 50 9[89 1[72 61 55 5[89 3[39 1[72
1[66 72 66 66 7[33 3[50 50 50 1[50 50 3[33 45[{
TeXBase1Encoding ReEncodeFont}36 99.6264 /Times-BoldItalic
rf
%DVIPSBitmapFont: Fb cmsy10 12 2
/Fb 2 104 df<ED0FE015FF913803FC00EC0FE0EC3FC04A5A4AC7FC5C495AA2495AB3AD
495AA2495A131F495A495A01FEC8FCEA07F8EAFFE0A2EA07F8EA00FEEB7F806D7E6D7E13
0F6D7EA26D7EB3AD6D7EA26D7E806E7E6E7EEC0FE0EC03FC913800FFE0150F236479CA32
>102 D<12FEEAFFE0EA07F8EA00FEEB7F806D7E6D7E130F6D7EA26D7EB3AD6D7EA26D7E
806E7E6E7EEC0FE0EC03FC913800FFE0A2913803FC00EC0FE0EC3FC04A5A4AC7FC5C495A
A2495AB3AD495AA2495A131F495A495A01FEC8FCEA07F8EAFFE048C9FC236479CA32>I
E
%EndDVIPSBitmapFont
/Fc 134[50 50 72 50 55 33 39 44 1[55 50 55 83 28 55 1[28
55 50 33 44 55 44 55 50 3[33 1[33 3[100 2[66 55 2[61
78 1[94 66 2[39 78 78 61 66 72 72 66 72 6[33 2[50 50
50 50 1[50 50 50 28 25 33 1[57 50 5[50 33[55 2[{
TeXBase1Encoding ReEncodeFont}56 99.6264 /Times-Bold
rf /Fd 135[60 60 60 60 60 60 60 1[60 60 60 60 60 60 1[60
60 60 60 60 60 60 60 60 10[60 1[60 1[60 2[60 60 60 4[60
60 1[60 60 60 60 60 3[60 1[60 60 3[60 1[60 1[60 60 60
60 60 60 60 2[60 60 40[{TeXBase1Encoding ReEncodeFont}49
99.6264 /Courier rf /Fe 105[50 1[44 44 24[44 50 50 72
50 50 28 39 33 50 50 50 50 78 28 50 28 28 50 50 33 44
50 44 50 44 33 6[72 72 94 1[72 61 55 66 1[55 72 72 89
61 72 39 33 72 72 55 61 72 66 66 72 1[44 3[28 28 50 50
50 50 50 50 50 50 50 50 28 25 33 25 2[33 33 33 1[83 1[50
1[33 29[55 55 2[{TeXBase1Encoding ReEncodeFont}78 99.6264
/Times-Roman rf /Ff 134[44 1[66 44 1[28 39 39 1[50 50
50 72 28 44 1[28 50 50 1[44 50 44 50 50 3[39 8[55 50
61 12[61 72 66 1[61 14[50 50 2[25 33 3[33 33 2[83 1[50
35[{TeXBase1Encoding ReEncodeFont}36 99.6264 /Times-Italic
rf /Fg 134[72 72 104 1[80 48 56 64 1[80 72 80 120 40
80 1[40 80 72 48 64 80 64 80 72 9[143 2[96 80 5[135 3[56
1[112 88 96 104 104 96 2[72 4[48 3[72 72 72 72 72 72
3[48 36 8[72 35[{TeXBase1Encoding ReEncodeFont}44 143.462
/Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: Letter
letter
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 850 101 a Fg(Magic)35 b(Tcl)g(T)-13 b(utorial)34
b(#1:)44 b(Intr)m(oduction)1546 521 y Ff(R.)25 b(T)-5
b(imothy)24 b(Edwar)l(ds)1583 941 y Fe(Space)i(Department)1434
1062 y(Johns)e(Hopkins)g(Uni)n(v)o(ersity)1391 1182 y(Applied)g
(Physics)g(Laboratory)1578 1303 y(Laurel,)h(MD)f(20723)819
1573 y(This)g(tutorial)g(corresponds)g(to)h(Tcl-based)f(Magic)h(v)o
(ersion)e(7.2)0 2287 y Fg(1)143 b(What)36 b(is)f(Tcl-based)f(Magic,)h
(and)g(Wh)n(y?)0 2511 y Fe(In)30 b(Magic)f(v)o(ersion)f(7.0,)i(Rajit)f
(Manohar)g(incorporated)g(a)h(SCHEME)g(interpreter)f(into)g(the)g
(Magic)g(source,)0 2631 y(noting)h(the)i(limitation)d(of)j(magic)f(to)g
(handle)h(de\002nitions)e(and)i(v)n(ariables,)g(conditionals,)f(and)h
(block)f(struc-)0 2752 y(tures.)56 b(By)33 b(embedding)f(an)h
(interpreter)h(into)e(the)h(code,)i(the)e(interpreter')-5
b(s)33 b(functions)f(are)i(made)f(a)n(v)n(ailable)0 2872
y(on)k(the)h(magic)f(command)g(line,)k(making)36 b(magic)i(e)o
(xtensible.)68 b(The)38 b(SCHEME)g(interpreter)f(and)h(v)n(arious)0
2992 y(e)o(xtensions)29 b(incorporated)i(into)f(loadable)h(scripts)f
(are)i(outlined)e(in)g(the)h(tutorials)f Fd(tutscm1.ps)f
Fe(through)0 3113 y Fd(tutscm4.ps)p Fe(.)146 3233 y(While)19
b(making)g(Magic)g(considerably)g(more)g(\003e)o(xible,)h(the)f
(embedded)g(SCHEME)h(interpreter)f(had)h(some)0 3354
y(notable)25 b(dra)o(wbacks.)32 b(The)25 b(primary)g(one)g(is)g(that)g
(the)g(SCHEME)g(language)g(is)g(syntactically)f(dif)n(ferent)h(from)0
3474 y(Magic')-5 b(s)33 b(command-line)f(syntax.)57 b(Also,)35
b(the)f(interpreter)g(is)f(lar)n(gely)h(disconnected)f(from)g(the)h
(code,)i(and)0 3594 y(does)25 b(not)f(af)n(fect)h(or)g(e)o(xtend)f(the)
g(graphics)h(or)g(handle)f(results)g(from)h(magic)f(commands.)146
3715 y(Be)o(ginning)h(in)g(Magic)g(v)o(ersion)f(7.2,)h(Magic)g(has)h
(been)f(recast)h(into)f(a)g(frame)n(w)o(ork)g(called)h
Ff(ScriptED)m(A)p Fe(,)d(in)0 3835 y(which)28 b(e)o(xisting)e
(applications)h(become)h Fc(extensions)h Fe(of)f(an)g(interpreter)h
(rather)f(than)g(ha)n(ving)g(an)g(interpreter)0 3955
y(embedded)22 b(in)f(the)h(application.)29 b(The)22 b(main)f(adv)n
(antage)h(of)g(e)o(xtending)f(o)o(v)o(er)g(embedding)g(is)h(that)f(the)
h(applica-)0 4076 y(tion)j(becomes)h(a)g(module)f(of)h(the)g
(interpreter)g(language,)g(which)g(does)f(not)h(preclude)g(the)g(use)g
(of)g(additional,)0 4196 y(unrelated)e(modules)f(in)h(the)h(same)f
(interpreti)n(v)o(e)f(en)l(vironment.)29 b(F)o(or)24
b(e)o(xample,)g(in)g(Tcl-based)g(Magic,)g(graph-)0 4317
y(ics)31 b(are)h(handled)e(by)h(Tk)g(\(the)g(primary)f(graphics)h
(package)h(for)f(use)g(with)f(Tcl\),)j(and)e(applications)e(such)i(as)0
4437 y(IRSIM)d(\(the)g(digital)e(simulator\))g(can)i(be)g(run)f(as)h
(if)f(the)o(y)g(were)h(an)f(e)o(xtension)f(of)i(magic)f(itself.)38
b(Commands)0 4557 y(for)28 b(Tcl,)g(Tk,)g(IRSIM,)g(BL)-9
b(T)i(,)28 b(and)f(an)o(y)g(other)h(Tcl-based)f(package)h(can)g(be)g
(mix)o(ed)e(on)h(the)h(magic)f(command)0 4678 y(line.)146
4798 y(While)g Ff(ScriptED)m(A)f Fe(suggests)g(the)h(use)h(of)f(the)h
Fc(SWIG)e Fe(package)i(to)f(gi)n(v)o(e)f(applications)g(the)i(ability)e
(to)h(be)0 4918 y(compiled)33 b(as)h(e)o(xtensions)e(of)i(an)o(y)f
(interpreter)h(\(Tcl,)i(Python,)f(SCHEME,)f(Perl,)j(etc.\),)f(there)e
(are)h(speci\002c)0 5039 y(adv)n(antages)24 b(to)h(tar)n(geting)g(Tcl.)
32 b(F)o(oremost,)24 b(the)h(syntax)f(of)h(Tcl)h(is)e(virtually)g
(100\045)h(compatible)f(with)g(that)h(of)0 5159 y(Magic.)43
b(This)28 b(is)h(not)f(coincidentally)g(because)h(both)f(Magic)h(and)g
(Tcl)g(were)h(written)e(by)h(John)f(Ousterhout!)0 5280
y(Man)o(y)23 b(ideas)h(from)g(the)g(de)n(v)o(elopment)e(of)i(Magic)g
(were)h(incorporated)f(into)f(the)h(o)o(v)o(erall)f(concept)h(and)g
(design)0 5400 y(of)h(the)g(Tcl)f(interpreter)h(language.)1875
5649 y(\2261\226)p eop
%%Page: 2 2
2 1 bop 0 -180 a Fe(April)24 b(12,)h(2006)1886 b(Magic)24
b(Tcl)h(T)l(utorial)e(#1:)30 b(Introduction)146 68 y(Lar)n(gely)19
b(due)g(to)g(the)f(syntactical)g(compatibility)-6 b(,)17
b(Tcl-based)i(magic)f(is)h(completely)e(backw)o(ardly-compatible)0
188 y(with)30 b(the)h(non-interpreter)f(v)o(ersion)g(of)h(magic.)49
b(Either)30 b(can)i(be)f(selected)g(at)g(compile-time,)f(in)h(addition)
e(to)0 309 y(compiling)f(with)h(embedded)h(SCHEME,)g(which)f(has)h
(been)g(retained)g(in)f(full)h(as)g(an)g(option.)44 b(A)30
b(fe)n(w)g(minor)0 429 y(issues,)24 b(such)g(as)g(the)h(appearance)g
(of)g(the)f(cursor)g(when)h(magic)f(is)g(used)g(without)f(a)i(Tk)f
(console)g(windo)n(w)-6 b(,)22 b(are)0 549 y(addressed)j(belo)n(w)-6
b(.)146 670 y(Magic)28 b(e)o(xtensions)d(under)j(Tcl)f(are)h
(considerable,)g(and)g(e)o(xplanations)d(of)j(the)f(features)h(ha)n(v)o
(e)g(been)f(split)0 790 y(into)d(se)n(v)o(eral)g(tutorial)g(\002les,)h
(as)f(listed)g(in)h(T)-8 b(able)24 b(1.)p 837 916 2227
4 v 835 1036 4 121 v 887 1000 a(Magic)g(Tcl)h(T)l(utorial)e(#1:)30
b(Introduction)p 3061 1036 V 835 1156 V 887 1120 a(Magic)24
b(Tcl)h(T)l(utorial)e(#2:)30 b(The)25 b(GUI)g(Wrapper)p
3061 1156 V 835 1277 V 887 1241 a(Magic)f(Tcl)h(T)l(utorial)e(#3:)30
b(Extraction)24 b(and)h(Netlisting)p 3061 1277 V 835
1397 V 887 1361 a(Magic)f(Tcl)h(T)l(utorial)e(#4:)30
b(Simulation)24 b(with)g(IRSIM)p 3061 1397 V 835 1518
V 887 1481 a(Magic)g(Tcl)h(T)l(utorial)e(#5:)30 b(Writing)24
b(Tcl)h(Scripts)g(for)g(Magic)p 3061 1518 V 837 1521
2227 4 v 782 1788 a(T)-8 b(able)25 b(1:)30 b(The)25 b(Magic)f(Tcl)h
(tutorials)f(and)g(other)h(documentation.)0 2241 y Fg(2)143
b(F)l(eatur)m(es)35 b(of)g(Tcl-based)f(Magic)0 2465 y
Fe(In)22 b(summary)-6 b(,)21 b(the)h(features)g(of)g(Tcl-based)g(Magic)
g(\(corresponding)f(to)h(Magic)g(v)o(ersion)f(7.2,)h(re)n(vision)e
(31\))i(are)0 2585 y(as)j(follo)n(ws:)120 2797 y(1.)49
b(The)25 b(command)g(name)g Fc(magic)h Fe(itself)e(is)i(a)f(script,)h
(not)f(a)g(compiled)g(e)o(x)o(ecutable.)32 b(The)25 b(script)g
(launches)244 2917 y(Tcl)32 b(and)h(gi)n(v)o(es)e(it)h(the)h(name)f(of)
h(a)g(Tcl)g(script)f(to)g(e)n(v)n(aluate)g(\()p Fd(magic.tcl)p
Fe(\).)52 b(The)33 b(Tcl)g(script)f(loads)244 3038 y(Magic)k(as)g(an)h
(e)o(xtension)e(of)h(Tcl)h(and)f(performs)g(all)g(other)h(operations)e
(necessary)i(to)f(start)g(up)g(the)244 3158 y(application.)120
3357 y(2.)49 b(Command-line)31 b(ar)n(guments)g(passed)h(to)f(Magic)h
(ha)n(v)o(e)f(been)i(changed.)52 b(Some)32 b(older)l(,)h(unused)f(ar)n
(gu-)244 3478 y(ments)24 b(ha)n(v)o(e)g(been)h(remo)o(v)o(ed.)30
b(Se)n(v)o(eral)24 b(ar)n(guments)h(ha)n(v)o(e)f(been)h(added,)g(as)g
(follo)n(ws:)299 3677 y(\(a\))49 b Fd(-noconsole)23 b
Fe(Normally)-6 b(,)22 b(under)j(Tcl/Tk,)e(Magic)h(starts)g(by)g
(launching)f(a)i(Tk-based)f(console)458 3798 y(windo)n(w)i(\()p
Fd(tkcon.tcl)p Fe(\))f(which)i(is)f(the)h(windo)n(w)e(that)i(accepts)g
(magic)f(commands.)36 b(Pre)n(vious)458 3918 y(v)o(ersions)27
b(of)i(Magic)f(accepted)g(commands)f(from)h(the)g(calling)g(terminal.)
40 b(The)28 b(former)h(style)e(of)458 4038 y(running)20
b(commands)g(from)g(the)h(calling)f(terminal)g(can)h(be)g(selected)g
(by)f(choosing)g(this)g(ar)n(gument)458 4159 y(at)26
b(runtime.)32 b(Note,)25 b(ho)n(we)n(v)o(er)l(,)f(that)h(due)g(to)g
(fundamental)g(dif)n(ferences)h(in)f(the)g(underlying)f(input)458
4279 y(routines)30 b(between)g(Tcl)g(and)h(magic,)g(the)f
(terminal-based)g(command)f(entry)h(does)g(not)g(e)o(xactly)458
4400 y(match)38 b(the)g(original)f(beha)n(vior)g(of)h(magic.)70
b(In)38 b(particular)l(,)j(the)d(background)f(DRC)i(function)458
4520 y(does)27 b(not)g(change)g(the)g(prompt.)36 b(In)27
b(addition,)f(\223Xterm\224)h(consoles)g(must)e(select)i(option)f(\223)
-8 b(Allo)n(w)458 4640 y(SendEv)o(ents\224)21 b(for)g(k)o(e)o(ystrok)o
(es)f(to)g(be)h(echoed)g(from)g(the)g(layout)f(windo)n(w)g(into)g(the)h
(terminal.)28 b(F)o(or)458 4761 y(security)d(reasons,)f(the)h
(application)f(cannot)g(change)h(this)f(option)g(on)g(the)h(terminal.)
294 4918 y(\(b\))48 b Fd(-wrapper)22 b Fe(T)-8 b(o)23
b(enforce)h(backw)o(ard-compatibility)-6 b(,)20 b(magic)j(appears)h(as)
f(it)f(w)o(ould)h(without)e(the)458 5039 y(Tcl)29 b(interpreter)f
(\(apart)h(from)f(the)g(te)o(xt)f(entry)h(console\))g(when)g(launched)g
(with)f(the)i(same)f(ar)n(gu-)458 5159 y(ments.)38 b(Ho)n(we)n(v)o(er)l
(,)26 b(most)g(users)i(will)e(w)o(ant)h(to)g(mak)o(e)g(use)g(of)h(the)f
(e)o(xtensions)e(and)j(con)l(v)o(enience)458 5280 y(functions)j(pro)o
(vided)g(by)h(the)g(\223wrapper\224)h(GUI.)f(These)g(functions)f(are)i
(detailed)f(in)f(a)i(separate)458 5400 y(tutorial)24
b(\(see)i(T)l(utorial)d(#2\).)1875 5649 y(\2262\226)p
eop
%%Page: 3 3
3 2 bop 0 -180 a Fe(Magic)24 b(Tcl)h(T)l(utorial)f(#1:)30
b(Introduction)1885 b(April)24 b(12,)h(2006)120 68 y(3.)49
b(Magic-related)34 b(programs)h(\223e)o(xt2spice\224)f(and)g(\223e)o
(xt2sim\224)g(ha)n(v)o(e)g(been)h(recast)g(as)g(magic)f(commands)244
188 y(instead)25 b(of)g(standalone)f(e)o(x)o(ecutables.)32
b(This)24 b(mak)o(es)h(a)h(good)e(deal)i(of)f(sense,)h(as)f(both)f
(programs)h(mak)o(e)244 309 y(hea)n(vy)36 b(use)h(of)f(the)g(magic)g
(internal)g(database.)66 b(Most)35 b(v)n(alues)h(required)g(to)g
(produce)h(netlists)d(were)244 429 y(passed)28 b(through)f(the)h
(intermediary)g(\002le)g(format)g Fd(.ext)p Fe(.)40 b(Ho)n(we)n(v)o(er)
l(,)28 b(not)g(all)g(necessary)g(v)n(alues)f(were)244
549 y(included)d(in)g(the)g Fd(.ext)g Fe(\002le)h(format)f
(speci\002cation,)h(and)f(some)g(of)h(these)f(missing)f(v)n(alues)h
(were)h(hard-)244 670 y(coded)j(into)e(the)i(programs)f(where)h(the)o
(y)f(ha)n(v)o(e)g(since)g(become)h(mismatched)e(to)h(the)h(magic)f
(database.)244 790 y(This)g(has)h(been)g(corrected)g(so)g(that)f(all)h
(netlist)e(output)h(corresponds)g(to)g(the)h(technology)f(\002le)h
(used)f(by)244 911 y(a)e(layout.)244 1071 y(Both)g(commands)e(\223e)o
(xt2spice\224)h(and)h(\223e)o(xt2sim\224)e(allo)n(w)h(all)h(of)f(the)h
(command-line)e(ar)n(guments)i(pre)n(vi-)244 1192 y(ously)f(accepted)h
(by)g(the)f(standalone)g(programs.)30 b(Some)25 b(of)g(the)g(more)f
(common)g(functions,)g(ho)n(we)n(v)o(er)l(,)244 1312
y(ha)n(v)o(e)36 b(been)h(duplicated)e(as)i(command)e(options)g(in)h
(the)g(usual)g(format)g(of)h(magic)f(commands.)64 b(F)o(or)244
1432 y(instance,)24 b(one)h(may)f(use)h(the)g(magic)f(command:)1144
1668 y Fc(ext2sim)g(help)244 1904 y Fe(to)g(get)h(more)g(information)e
(on)h Fd(ext2sim)g Fe(command-line)f(options.)120 2105
y(4.)49 b(All)25 b(Tcl)g(interpreter)h(procedures)f(may)g(be)h(freely)g
(mix)o(ed)e(with)g(magic)h(commands)g(on)g(the)g(command)244
2225 y(line.)53 b(F)o(or)32 b(instance,)i(a)e(user)h(can)g(use)f(Tcl)g
(to)g(compute)g(arithmetic)f(e)o(xpressions)g(on)h(the)g(command)244
2345 y(line:)1144 2581 y Fc(copy)25 b(e)g([expr)p Fb(f)p
Fc(276)g(*)g(5)g(+)f(4)p Fb(g)p Fc(])120 2817 y Fe(5.)49
b(A)31 b(number)g(of)h(magic)f(commands)f(pass)h(v)n(alues)f(back)i(to)
f(the)g(interpreter)-5 b(.)50 b(F)o(or)32 b(instance,)g(the)f(com-)244
2937 y(mand)1144 3173 y Fc(box)25 b(v)o(alues)244 3409
y Fe(returns)j(the)g(lo)n(wer)f(left-)h(and)g(upper)g(right-hand)f
(coordinates)h(of)g(the)g(cursor)g(box)f(in)h(magic)g(internal)244
3529 y(units.)h(This)23 b(return)g(v)n(alue)g(can)g(be)h(incorporated)f
(into)f(an)i(e)o(xpression,)e(such)h(as)h(the)f(one)g(belo)n(w)g(which)
244 3649 y(mo)o(v)o(es)g(the)i(box)f(to)g(the)h(left)g(by)f(the)h(v)n
(alue)f(of)h(its)f(o)n(wn)g(width:)1144 3885 y Fc(set)h(b)o(box)g([box)
g(v)o(alues])1144 4005 y(set)g(bwidth)h(expr)f Fb(f)p
Fc([lindex)h($b)o(box)f(2])g(-)g([lindex)g($b)o(box)g(0])p
Fb(g)p Fc(])1144 4126 y(mo)o(v)o(e)g(e)g($bwidth)120
4362 y Fe(6.)49 b(Magic)34 b(prompts)e(for)j(te)o(xt)e(ha)n(v)o(e)g
(been)i(recast)f(as)g(Tk)g(dialog)f(box)o(es.)57 b(F)o(or)34
b(instance,)i(the)e(command)244 4482 y Fc(writeall)f
Fe(will)g(pop)g(up)h(a)g(dialog)e(box)i(with)f(\002)n(v)o(e)g(b)n
(uttons,)h(one)g(for)g(each)g(of)g(the)f(a)n(v)n(ailable)g(choices)244
4602 y(\(write,)25 b(\003ush,)f(skip,)g(abort,)h(and)f(auto\).)120
4803 y(7.)49 b(IRSIM)33 b(is)e(no)g(longer)h(a)n(v)n(ailable)f(as)h(a)g
(\223mode\224)g(reached)g(by)g(switching)e(tools)h(by)h(command)e(or)i
(the)244 4924 y(space-bar)i(macro.)54 b(Instead,)35 b(IRSIM)f(\(v)o
(ersion)e(9.6\))g(can)i(be)f(compiled)e(as)i(a)h(Tcl)e(e)o(xtension)g
(in)g(the)244 5044 y(same)f(manner)h(as)g(Magic,)h(at)e(compile)g
(time.)51 b(When)32 b(this)e(is)i(done,)h(IRSIM)f(is)f(in)l(v)n(ok)o
(ed)g(simply)f(by)244 5164 y(typing)1144 5400 y Fc(irsim)1875
5649 y Fe(\2263\226)p eop
%%Page: 4 4
4 3 bop 0 -180 a Fe(April)24 b(12,)h(2006)1886 b(Magic)24
b(Tcl)h(T)l(utorial)e(#1:)30 b(Introduction)244 68 y(on)36
b(the)g(Magic)f(command)g(line.)64 b(IRSIM)37 b(is)f(loaded)g(as)g(a)g
(Tcl)g(package,)j(and)e(IRSIM)f(and)g(Magic)244 188 y(commands)23
b(may)i(be)g(freely)g(mix)o(ed)f(on)g(the)h(Magic)f(command)g(line:)
1144 481 y Fc(assert)h([getnode])244 775 y Fe(IRSIM)33
b(does)e(not)h(require)g(the)g(name)g(of)g(a)g(\002le)g(to)g(start.)52
b(W)l(ithout)30 b(ar)n(guments,)j(it)f(will)f(assume)g(the)244
895 y(currently)36 b(loaded)h(cell)g(is)f(to)h(be)f(simulated,)j(and)e
(it)f(will)g(generate)h(the)g Fd(.sim)f Fe(\002le)h(if)g(it)f(does)h
(not)244 1015 y(already)25 b(e)o(xist.)120 1256 y(8.)49
b(In)25 b(addition)g(to)g(IRSIM,)h(programs)f Fc(xcir)n(cuit)h
Fe(and)g Fc(netgen)g Fe(can)g(be)g(compiled)e(as)i(Tcl)f(e)o(xtensions)
f(and)244 1376 y(pro)o(vide)g(cabability)f(for)j(schematic)e(capture)h
(and)g(layout-vs.-schematic,)e(respecti)n(v)o(ely)-6
b(.)120 1617 y(9.)49 b(Tcl-based)34 b(Magic)g(mak)o(es)h(use)f(of)h
(the)f(Tcl)g(v)n(ariable)g(space.)61 b(F)o(or)34 b(instance,)i(it)e(k)o
(eeps)h(track)g(of)f(the)244 1737 y(installation)28 b(directory)h
(through)g(the)h(v)n(ariable)f Fd(CAD)p 2132 1737 30
4 v 35 w(HOME)p Fe(,)g(which)h(mirrors)f(the)h(v)n(alue)f(of)h(the)g
(shell)244 1858 y(en)l(vironment)35 b(v)n(ariable)i(of)f(the)h(same)g
(name.)66 b(In)37 b(addition,)h(it)e(mak)o(es)h(use)f(of)h(v)n
(ariables)f Fd(VDD)g Fe(and)244 1978 y Fd(GND)23 b Fe(in)g(the)h
(technology)e(\002le)j(to)e(aid)g(in)h(the)f(e)o(xtraction)g(of)h
(substrate-)f(and)h(well-connected)f(nodes)g(on)244 2098
y(transistors.)71 2339 y(10.)48 b(Magic)30 b(input)g(\002les,)j(such)d
(as)h(the)g Fd(.magic)f Fe(startup)g(\002le,)i(are)g(sourced)f(as)g
(Tcl)g(scripts,)g(and)g(so)f(may)244 2459 y(themselv)o(es)23
b(contain)h(a)h(mixture)f(of)h(Tcl)g(and)g(magic)f(commands.)0
2846 y Fg(3)143 b(Compilation)33 b(and)i(Installation)0
3085 y Fe(Magic)24 b(is)h(selected)g(for)g(compilation)e(as)h(a)i(Tcl)e
(e)o(xtention)g(when)g(running)g(the)900 3333 y Fc(mak)o(e)h(con\002g)0
3574 y Fe(script.)64 b(The)36 b(\002rst)h(question)e(asks)g(whether)i
(magic)e(should)g(be)i(compiled)e(as)h(a)g(Tcl)g(e)o(xtension,)i(with)d
(the)0 3694 y(SCHEME)k(interpreter)g(embedded,)k(or)c(as)g(the)g
(original)f(v)o(ersion)g(with)h(no)g(interpreter)-5 b(.)73
b(Subsequent)38 b(to)0 3814 y(choosing)30 b(Tcl)h(as)h(the)f
(interpreter)g(and)g(answering)g(the)g(remaining)f(con\002guration)h
(questions,)g(Tcl)g(should)0 3935 y(be)25 b(compiled)f(and)g(installed)
g(using)g(the)g(commands)900 4183 y Fc(mak)o(e)h(tcl)0
4423 y Fe(and)900 4671 y Fc(mak)o(e)g(install-tcl)0 4912
y Fe(Note)g(that)f(if)h(magic)f(is)g(to)h(be)g(compiled)f(under)g(dif)n
(ferent)h(interpreters,)f(it)h(is)f(necessary)h(to)f(perform)900
5159 y Fc(mak)o(e)h(clean)0 5400 y Fe(between)g(the)g(compilations,)d
(so)j(that)f(all)g(references)j(to)d(the)h(last)f(compiled)g(v)o
(ersion)f(are)j(deleted.)1875 5649 y(\2264\226)p eop
%%Page: 5 5
5 4 bop 0 -180 a Fe(Magic)24 b(Tcl)h(T)l(utorial)f(#1:)30
b(Introduction)1885 b(April)24 b(12,)h(2006)0 99 y Fg(4)143
b(Dual-Sour)m(ce)34 b(Input)g(and)h(Backward)f(Compatibility)0
494 y Fe(From)24 b(its)e(inception,)h(Magic)g(has)h(used)f(an)h(unsual)
f(b)n(ut)g(v)o(ery)g(ef)n(fecti)n(v)o(e)g(interf)o(ace)h(in)f(which)g
(commands)f(may)0 615 y(be)k(passed)g(to)g(the)g(program)g(from)g(tw)o
(o)g(dif)n(ferent)g(sources,)g(the)g(layout)g(windo)n(w)-6
b(,)24 b(and)i(the)h(calling)e(terminal.)0 735 y(K)n(e)o(ystrok)o(es)30
b(in)i(the)g(layout)f(windo)n(w)f(are)j(handled)e(by)h(the)g(graphics)f
(package.)53 b(These)32 b(are)g(interpreted)g(as)0 856
y Ff(macr)l(os)p Fe(.)d(The)24 b(k)o(e)o(ystrok)o(e)f(v)n(alues)g(are)h
(e)o(xpanded)f(into)g(magic)h(command-line)e(commands)h(and)g(e)o(x)o
(ecuted)g(by)0 976 y(the)f(command-line)e(command)h(dispatcher)g
(routine.)29 b(T)-8 b(w)o(o)22 b(macros,)g(`)p Fd(.)p
Fe(')30 b(and)22 b(`)p Fd(:)p Fe(')29 b(are)23 b(reserv)o(ed:)29
b(The)21 b(period)0 1096 y(e)o(xpands)k(to)g(the)g(last)g(command)f(e)o
(x)o(ecuted)h(from)g(the)h(command)e(line)h(\()p Ff(not)g
Fe(from)g(a)h(macro)g(e)o(xpansion\),)e(and)0 1217 y(the)33
b(colon)h(initiates)e(a)i(redirection)f(of)h(k)o(e)o(ystrok)o(es)e
(from)h(the)h(layout)f(windo)n(w)f(into)h(the)g(calling)g(terminal.)0
1337 y(Magic)c(users)g(quickly)f(get)h(used)g(to)g(the)g(combination)f
(of)h(k)o(e)o(ystrok)o(es,)g(mouse)g(functions,)g(and)g(command-)0
1458 y(line)24 b(commands.)146 1661 y(In)39 b(the)f(Tcl-based)h(v)o
(ersion)e(of)i(Magic,)i(the)e(command-line)e(dispatching)g(is)h(gi)n(v)
o(en)f(o)o(v)o(er)h(entirely)f(to)0 1781 y(Tcl,)g(and)d(the)h
(dispatching)e(of)i(k)o(e)o(ystrok)o(e)e(e)n(v)o(ents)g(in)i(the)f
(layout)g(windo)n(w)f(is)h(gi)n(v)o(en)f(o)o(v)o(er)h(entirely)g(to)g
(Tk.)0 1901 y(Unfortunately)-6 b(,)38 b(in)f(relinquishing)e(these)i
(duties,)i(Magic)d(loses)g(some)h(of)g(the)f(ef)n(fecti)n(v)o(eness)g
(of)h(its)f(dual-)0 2022 y(source)21 b(input)g(model.)28
b(One)22 b(aspect)f(of)h(this)e(is)h(that)g(Tcl)g(is)g(a)h(line-based)f
(interpreter)l(,)h(and)f(does)g(not)g(recognize)0 2142
y(an)o(ything)h(on)i(the)g(command)f(line)h(until)e(the)i(return)g(k)o
(e)o(y)g(has)g(been)g(pressed)g(and)g(the)g(entire)g(line)f(is)h
(passed)f(to)0 2263 y(the)e(command)g(dispatcher)g(routine.)29
b(W)l(ithout)20 b(an)o(y)h(understanding)f(of)i(character)n(-based)h
(input,)e(it)g(is)g(dif)n(\002cult)0 2383 y(to)k(impossible)e(to)i
(directly)f(edit)h(the)g(command)f(line)h(from)g(outside)f(the)h
(calling)g(terminal,)f(because)i(it)e(is)h(the)0 2503
y(terminal,)f(and)h(not)f(Tcl,)g(which)h(interprets)f(k)o(e)o(ystrok)o
(es)g(on)g(a)h(character)n(-by-character)i(basis.)146
2706 y(The)39 b(w)o(ay)g(around)f(this)g(problem)g(is)g(to)h(use)f(a)i
Ff(console)p Fe(,)h(which)d(is)h(an)g(application)e(that)h(runs)h(in)f
(the)0 2827 y(manner)f(usually)g(e)o(xpected)g(by)g(Tk,)j(in)d(that)g
(it)g(is)g(a)g(GUI-dri)n(v)o(en)f(application.)68 b(The)37
b(interpreter)g(is)g(split)0 2947 y(into)30 b Ff(master)g
Fe(and)h Ff(slave)f Fe(interpreters)h(\(see)g(the)g(Tcl)g
(documentation)e(on)h(the)h Fc(inter)o(p)h Fe(command\),)f(with)f(the)0
3068 y(master)21 b(interpreter)h(running)e(the)i(console)f(application)
f(and)i(the)f(sla)n(v)o(e)g(interpreter)g(running)g(the)g(application.)
0 3188 y(The)36 b(master)g(interpreter)g(then)f(has)h(character)n
(-based)h(control)f(o)o(v)o(er)f(the)h(command)f(line,)j(and)e(the)f
(Magic)0 3308 y(dual-source)k(input)f(model)h(can)g(be)h(implemented)d
(e)o(xactly)i(as)g(originally)f(designed.)73 b(The)40
b(background)0 3429 y(DRC)34 b(function)f(can)h(change)f(the)g(command)
g(line)g(cursor)g(from)g(`)p Ff(\045)p Fe(')h(to)f(`)p
Ff(])p Fe(')g(to)g(indicate)g(that)g(the)g(DRC)i(is)0
3549 y(in)c(progress,)h(and)f(user)g(input)f(can)h(be)g(redirected)g
(from)g(the)g(layout)f(windo)n(w)g(to)g(the)h(console)f(with)h(the)f(`)
p Fc(:)p Fe(')0 3670 y(k)o(e)o(ystrok)o(e.)146 3873 y(In)f(addition)f
(to)h(these)f(functions,)h(the)g(console)f(mak)o(es)h(use)g(of)g(Tcl')
-5 b(s)28 b(ability)g(to)g(rename)i(commands)d(to)0 3993
y(recast)22 b(the)f(basic)g(Tcl)h(output)e(function)h(`)p
Fc(puts)p Fe(')h(in)f(such)g(a)h(w)o(ay)g(that)f(output)f(to)h
Fd(stdout)f Fe(and)i Fd(stdin)e Fe(can)i(be)0 4113 y(handled)28
b(dif)n(ferently)-6 b(.)41 b(In)29 b(the)g Fc(TkCon)h
Fe(console,)f(output)e(to)h Fd(stdout)g Fe(is)g(printed)g(in)h(blue,)g
(while)f(output)f(to)0 4234 y Fd(stderr)22 b Fe(is)h(printed)g(in)g
(red.)30 b(Magic)23 b(mak)o(es)g(use)h(of)f(Tcl')-5 b(s)23
b(output)f(procedures)h(so)g(that)g(returned)h(v)n(alues)e(and)0
4354 y(information)g(are)i(printed)f(in)g(blue,)g(while)g(w)o(arnings)g
(and)g(error)h(messages)f(are)h(printed)f(in)g(red.)30
b(The)24 b(console)0 4475 y(also)35 b(implements)e(command-line)h
(history)g(and)h(cut-and-paste)g(methods.)61 b(The)35
b(console)f(command-line)0 4595 y(history)24 b(replaces)h(the)g
(embedded)f Ff(r)l(eadline)g Fe(implementation)f(in)h(magic.)146
4798 y(The)30 b Fc(TkCon)h Fe(console)e(is)g(a)h(placeholder)g(for)g
(what)f(is)h(intended)f(to)g(be)h(a)g(\223project)g(manager\224)g
(console,)0 4918 y(with)36 b(functions)g(more)h(appropriate)f(to)h(the)
g(Electronic)f(Design)g(Automation)f(suite)i(of)g(Tcl-based)f(tools.)0
5039 y(In)f(general,)i(the)d(menu)g(functions)g(which)g(are)h
(displayed)e(on)i(the)f(TkCon)g(console)g(are)i(not)e(of)g(particular)0
5159 y(interest)26 b(to)h(the)g(Magic)g(user)l(,)h(with)e(the)h(e)o
(xception)f(of)h(the)g Fc(History)f Fe(menu,)h(which)g(can)g(be)h(used)
f(to)f(re-enter)0 5280 y(pre)n(viously)31 b(e)o(x)o(ecuted)h(commands,)
h(and)g(the)g Fc(Pr)n(efs)g Fe(menu,)h(which)f(includes)f(highlighting)
e(options)h(and)i(a)0 5400 y(v)o(ery)24 b(useful)h(calculator)g(mode.)
1875 5649 y(\2265\226)p eop
%%Page: 6 6
6 5 bop 0 -180 a Fe(April)24 b(12,)h(2006)1886 b(Magic)24
b(Tcl)h(T)l(utorial)e(#1:)30 b(Introduction)0 99 y Fg(5)143
b(Tk)36 b(Graphics)d(Methods)0 322 y Fe(Because)28 b(the)f(graphics)g
(under)h(Tcl)f(are)h(managed)f(by)g(the)g(Tk)g(package,)h(the)f(only)g
(graphics)g(options)f(which)0 443 y(can)k(be)g(compiled)e(are)i(the)g
(X11)f(and)g(the)h(OpenGL)f(options.)44 b(There)29 b(are)i(numerous)d
(dif)n(ferences)i(between)0 563 y(these)j(graphics)f(interf)o(aces)i
(as)e(the)o(y)h(e)o(xist)e(under)i(Tcl)g(and)g(under)g(the)f
(non-Tcl-based)h(v)o(ersion.)54 b(The)33 b(tw)o(o)0 683
y(primary)22 b(dif)n(ferences)h(are)h(the)f(w)o(ay)f(windo)n(ws)g(are)h
(generated)g(and)g(the)g(w)o(ay)g(commands)e(are)j(sent)e(to)h
(speci\002c)0 804 y(windo)n(ws.)28 b(In)20 b(Tcl-based)h(magic,)g(a)g
(layout)f(windo)n(w)f(does)i(not)f(ha)n(v)o(e)g(to)h(be)f(a)i(top-le)n
(v)o(el)d(application)g(windo)n(w)-6 b(.)0 924 y(by)25
b(using)e(the)i(command)f(syntax)900 1090 y Fc(openwindo)o(w)i
Ff(cellname)e(tk)p 1923 1090 30 4 v 36 w(pathname)146
1255 y Fe(An)j(unmapped)f(windo)n(w)g(can)h(be)g(generated,)h
(corresponding)e(to)h(the)g(Tk)f(windo)n(w)g(hierarchy)h(speci\002ed)0
1376 y(by)22 b Ff(tk)p 200 1376 V 35 w(pathname)f Fe(\(see)i(the)f(Tk)f
(documentation)g(for)h(the)g(speci\002cs)g(of)g(Tk)g(windo)n(w)e(path)i
(name)g(syntax\).)29 b(This)0 1496 y(windo)n(w)c(is)h(then)g(mapped)g
(and)g(managed)h(by)f(Tk)g(commands.)34 b(Using)26 b(this)f(method,)h
(a)h(magic)f(windo)n(w)f(can)0 1616 y(be)32 b(embedded)g(inside)f(a)i
(\223wrapper\224)g(application,)f(an)g(e)o(xample)g(of)g(which)g(has)g
(been)g(done)g(with)f(the)h(GUI)0 1737 y(wrapper)24 b(in)l(v)n(ok)o(ed)
e(with)h(the)g(\223)p Fd(-w)p Fe(\224)g(command-line)f(ar)n(gument.)30
b(Extensions)21 b(of)j(magic)e(windo)n(w)g(commands)0
1857 y(ha)n(v)o(e)30 b(been)g(added)h(so)e(that)h(the)g(wrapper)h(can)f
(control)g(the)g(windo)n(w)f(frame,)j(including)c(the)i(scrollbars)g
(and)0 1978 y(title.)146 2098 y(Whene)n(v)o(er)f(a)h(windo)n(w)e(is)h
(created,)i(Magic)e(creates)h(a)g(Tcl/Tk)e(command)h(with)f(the)h(same)
h(name)f(as)g(the)0 2218 y(windo)n(w)19 b(\(this)g(is)h(con)l(v)o
(entional)f(practice)h(with)g(Tk)g(widgets\).)28 b(Magic)20
b(and)g(Tcl)g(commands)f(can)i(be)f(passed)g(as)0 2339
y(ar)n(guments)j(to)g(the)g(windo)n(w)f(command.)29 b(Such)24
b(commands)e(are)i(e)o(x)o(ecuted)f(relati)n(v)o(e)f(to)h(the)g
(speci\002c)h(windo)n(w)-6 b(.)0 2459 y(This)20 b(applies)g(to)g(all)g
(of)h(magic')-5 b(s)20 b(windo)n(w-based)f(commands,)h(including)f
(instructions)g(such)h(as)h Fc(mo)o(v)o(e)p Fe(,)g Fc(load)p
Fe(,)0 2580 y(and)31 b(so)g(forth.)49 b(Commands)30 b(which)g(apply)h
(to)f(all)h(windo)n(ws)e(will)h(automatically)g(be)h(sent)g(to)f(all)h
(windo)n(ws.)0 2700 y(These)e(commands)f(are)h(used)g(primarly)f(by)h
(the)g(wrapper)g(GUI,)g(b)n(ut)f(are)i(also)e(called)h(\(transparently)
g(to)f(the)0 2820 y(end)23 b(user\))h(whene)n(v)o(er)f(a)h(command)e
(is)i(e)o(x)o(ecuted)e(from)h(a)h(layout)f(windo)n(w)f(via)h(an)o(y)g
(macro,)h(including)e(the)h(`)p Fc(:)p Fe(')0 2941 y(command-line)i
(entry)-6 b(.)35 b(In)26 b(addition,)f(ho)n(we)n(v)o(er)l(,)g(the)o(y)h
(may)g(be)g(called)h(from)f(the)g(command)f(line)h(to)g(perform)0
3061 y(an)k(action)g(in)g(a)h(speci\002c)g(windo)n(w)-6
b(.)45 b(By)31 b(def)o(ault)f(\(in)g(the)g(absence)h(of)f(a)h(wrapper)g
(GUI\),)f(magic')-5 b(s)30 b(windo)n(ws)0 3181 y(are)25
b(named)f Ff(.ma)o(gic1)p Fe(,)f Ff(.ma)o(gic2)p Fe(,)h(and)g(so)g
(forth,)g(in)f(order)i(of)f(appearance,)h(and)g(these)f(names)f(are)i
(re\003ected)g(in)0 3302 y(the)g(title)f(bar)h(of)g(the)f(windo)n(w)-6
b(.)29 b(So)c(it)f(is)h(equi)n(v)n(alent)e(to)h(do)900
3467 y Fc(:mo)o(v)o(e)h(s)g(10)0 3633 y Fe(from)f(layout)f(windo)n(w)g
(`)p Ff(.ma)o(gic2)p Fe(')h(\(where)g(the)g(colon)g(indicates)f(the)h
(k)o(e)o(y)g(macro)g(for)g(command-line)f(entry\),)0
3753 y(and)900 3919 y Fc(.magic2)h(mo)o(v)o(e)h(s)g(10)0
4084 y Fe(typed)f(in)h(the)f(console.)0 4417 y Fg(6)143
b(T)-13 b(utorial)34 b(Examples)0 4641 y Fe(Example)23
b(sessions)g(of)h(running)e(magic)i(in)f(v)n(arious)g(modes)g(are)i
(presented)e(belo)n(w)-6 b(,)23 b(along)g(with)g(e)o(xamples)g(of)0
4761 y(methods)18 b(speci\002c)h(to)g(each)h(mode.)28
b(In)19 b(the)g(e)o(xamples)f(belo)n(w)-6 b(,)19 b(prompts)e(are)j(sho)
n(wn)e(to)h(indicate)f(the)h(conte)o(xt)f(of)0 4881 y(each)26
b(command.)31 b(The)26 b Ff(#)f Fe(sign)f(indicates)h(the)g(shell)g
(prompt,)f Ff(\(gdb\))h Fe(indicates)g(the)g(GNU)g(deb)n(ugger)g
(prompt,)0 5002 y(and)g Ff(\045)g Fe(indicates)f(the)g(Tcl)h(\(i.e.,)g
(Magic\))f(prompt.)0 5159 y Fa(Example)g(1:)31 b(Standard)24
b(Magic)h(Ex)o(ecution)146 5400 y Fe(Run)g(Tcl-based)g(magic)f(in)h
(its)f(most)g(basic)g(form)h(by)f(doing)g(the)h(follo)n(wing:)1875
5649 y(\2266\226)p eop
%%Page: 7 7
7 6 bop 0 -180 a Fe(Magic)24 b(Tcl)h(T)l(utorial)f(#1:)30
b(Introduction)1885 b(April)24 b(12,)h(2006)900 84 y
Ff(#)g Fc(magic)f(-noconsole)h(tut2a)146 439 y Fe(Magic)e(looks)g
(generally)g(lik)o(e)f(its)h(traditional)f(form,)h(e)o(xcept)g(that)g
(the)g(command-line)f(prompt)g(is)h(the)g(Tcl)0 559 y(`)p
Ff(\045)p Fe(')28 b(prompt.)39 b(It)28 b(should)f(be)h(possible)f(to)g
(write)h(commands)f(from)g(either)h(the)g(terminal)f(or)h(using)f(the)h
(colon)0 679 y(k)o(e)o(ystrok)o(e,)i(and)g(it)g(is)f(possible)g(to)h
(partially)f(type)h(a)g(command)f(after)i(the)f(colon)g(k)o(e)o(ystrok)
o(e)f(and)h(\002nish)f(the)0 800 y(command)22 b(inside)g(the)h
(terminal,)g(b)n(ut)f(not)h(vice)g(v)o(ersa.)30 b(Enabling)22
b(the)h(colon)f(k)o(e)o(ystrok)o(e)g(may)h(require)g(setting)0
920 y(\223)-8 b(Allo)n(w)24 b(SendEv)o(ents\224)g(mode)g(on)h(the)f
(calling)g(terminal.)0 1109 y Fa(Example)g(2:)31 b(Console-based)25
b(Magic)f(Ex)o(ecution)146 1356 y Fe(Run)h(the)g(TkCon)g(console-based)
f(magic)g(by)h(doing)f(the)g(follo)n(wing:)900 1596 y
Ff(#)h Fc(magic)f(tut2a)146 1950 y Fe(The)g(layout)e(windo)n(w)h(will)f
(still)g(look)h(lik)o(e)g(the)g(usual,)g(basic)h(form.)30
b(Ho)n(we)n(v)o(er)l(,)22 b(the)i(calling)e(terminal)h(will)0
2071 y(be)i(suspended)g(\(unless)g(the)g(application)f(is)h
(backgrounded;)g(ho)n(we)n(v)o(er)l(,)f(if)h(backgrounding)f(the)h
(application,)0 2191 y(be)f(a)o(w)o(are)g(that)f(an)o(y)g(output)f
(sent)h(to)h(the)f(terminal)g(will)f(hang)i(the)f(application)g(until)f
(it)h(is)g(fore)o(grounded\))g(and)0 2312 y(the)e(Tcl)g(prompt)f(will)g
(appear)i(in)e(a)i(ne)n(w)e(windo)n(w)-6 b(,)20 b(which)h(is)f(the)h
Fc(console)p Fe(.)30 b(The)21 b(console)f(may)h(ha)n(v)o(e)g(a)g
(slightly)0 2432 y(dif)n(ferent)31 b(appearance)h(depending)e(on)h(the)
g(graphics)g(mode)g(used.)49 b(F)o(or)32 b(instance,)g(magic)f(has)g
(historically)0 2552 y(had)21 b(dif)n(\002culties)f(running)g(in)g
(8-bit)g(\(PseudoColor\))i(graphics)e(mode,)h(because)h(it)e(installs)f
(its)i(o)n(wn)f(colormap.)0 2673 y(Because)i(it)e(does)g(not)g(share)h
(the)f(colormap)g(with)g(the)h(calling)f(terminal,)g(the)g(calling)g
(terminal)g(gets)g(repainted)0 2793 y(in)35 b(random)f(colors)h(from)g
(magic')-5 b(s)34 b(colormap)g(when)h(the)g(cursor)g(is)g(in)g(the)f
(layout)h(windo)n(w)-6 b(.)59 b(In)35 b(unluck)o(y)0
2914 y(setups,)24 b(te)o(xt)g(and)g(background)h(may)f(be)h
(unreadable.)146 3040 y(In)35 b(the)g(TkCon)g(console)f(setup,)i(the)f
(console)f(is)h(mapped)f(prior)h(to)f(determining)g(the)g(graphics)h
(mode)0 3160 y(required,)i(so)d(it)h(also)f(does)g(not)g(share)h(the)g
(colormap.)60 b(Ho)n(we)n(v)o(er)l(,)36 b(it)e(is)g(possible)f(to)i
(query)f(Magic')-5 b(s)34 b(col-)0 3281 y(ormap)d(to)f(\002nd)i(the)f
(location)f(of)h(speci\002c)h(colors,)g(and)f(repaint)g(the)g(te)o(xt)f
(and)h(background)f(of)i(the)f(console)0 3401 y(accordingly)-6
b(.)29 b(Thus,)24 b(the)g(Magic)g(console)g(can)h(be)f(used)g(when)h
(the)f(display)f(is)h(in)g(8-bit)g(PseudoColor)g(mode,)0
3522 y(without)g(e)o(xtreme)h(color)h(remappings)e(in)i(the)f(console)g
(which)h(mak)o(e)f(it)g(potentially)f(impossible)g(to)h(read)h(the)0
3642 y(console)e(when)h(the)g(cursor)f(is)h(in)f(a)h(layout)f(windo)n
(w)-6 b(.)146 3768 y(If)28 b(compiled)e(with)g(both)h(OpenGL)g(and)g
(X11)f(graphics)h(capability)-6 b(,)26 b(magic)h(will)f(start)h(in)g
(X11)g(mode)f(by)0 3889 y(def)o(ault.)k(The)25 b(OpenGL)g(interf)o(ace)
g(can)g(only)f(be)h(enabled)g(at)g(startup)f(by)h(specifying:)900
4129 y Ff(#)g Fc(magic)f(-d)i(OGL)e(tut4x)0 4484 y Fe(The)k(OpenGL)g
(interf)o(ace,)h(in)f(addition)f(to)h(ha)n(ving)f(more)h(solid,)g
(vibrant)f(colors,)h(has)g(an)h(additional)d(feature)0
4604 y(which)e(dra)o(ws)h(three-dimensional)e(vie)n(ws)h(of)h(a)g
(layout.)30 b(This)24 b(is)g(discussed)g(in)g(T)l(utorial)g(#??.)0
4792 y Fa(Example)g(4:)31 b(The)26 b(Magic)e(Wrapper)f(GUI)146
5039 y Fe(The)i(magic)g(GUI)f(interf)o(ace)i(is)e(in)l(v)n(ok)o(ed)g
(by)h(starting)e(magic)i(with)f(the)h Fc(-w)g Fe(option:)900
5280 y Ff(#)g Fc(magic)f(-w)h(tut2b)1875 5649 y Fe(\2267\226)p
eop
%%Page: 8 8
8 7 bop 0 -180 a Fe(April)24 b(12,)h(2006)1886 b(Magic)24
b(Tcl)h(T)l(utorial)e(#1:)30 b(Introduction)146 68 y(The)35
b(immediately)e(noticeable)h(dif)n(ferences)h(are)g(the)g(layer)g
(toolbar)f(on)g(the)g(side,)j(and)e(the)f(menu)g(and)0
188 y(redesigned)26 b(title)f(bar)i(on)f(the)g(top.)34
b(Experimenting)25 b(with)g(some)h(mouse)f(clicks,)h(the)g(user)g(will)
g(note)g(that)f(the)0 309 y(magic)f(coordinates)h(of)f(the)h(cursor)g
(box)f(are)i(displayed)e(on)g(the)h(right-hand)f(side)g(of)h(the)g
(titlebar)-5 b(.)146 429 y(The)27 b(toolbar)f(contains)f(one)i(e)o
(xample)f(of)g(each)h(layer)g(de\002ned)g(in)f(the)h(magic)f
(technology)f(\002le.)36 b(Position)0 549 y(a)25 b(box)g(on)g(the)g
(screen,)g(then)g(put)g(the)g(cursor)g(o)o(v)o(er)f(a)h(layer)h(icon)e
(and)h(press)g(the)g(middle)f(mouse)h(b)n(utton.)30 b(This)0
670 y(paints)d(the)h(layer)h(into)e(the)h(box.)40 b(Y)-11
b(ou)28 b(will)f(also)g(notice)h(that)g(the)g(name)g(of)g(the)g(layer)g
(is)g(printed)f(in)h(the)g(title)0 790 y(bar)d(while)f(the)h(cursor)g
(is)f(o)o(v)o(er)g(the)h(layer)g(icon.)146 911 y(The)k(icons)e(ha)n(v)o
(e)h(other)h(responses,)f(too.)41 b(The)28 b(\002rst)h(and)f(third)g
(mouse)f(b)n(uttons)g(respecti)n(v)o(ely)g(sho)n(w)g(and)0
1031 y(hide)k(the)f(layer)h(in)g(the)g(layout.)48 b(This)30
b(w)o(orks)g(with)g(labels,)i(subcell)f(boundaries,)g(and)g(error)h
(paint)e(\(the)h(top)0 1151 y(three)d(layer)f(icons\))g(as)h(well)f(as)
g(with)g(re)o(gular)g(paintable)f(layers.)39 b(In)27
b(addition)f(to)h(mouse)g(b)n(utton)f(responses,)0 1272
y(the)k(b)n(uttons)e(in)l(v)n(ok)o(e)i(v)n(arious)f(commands)g(in)g
(reponse)h(to)g(k)o(e)o(ystrok)o(es.)45 b(K)n(e)o(y)29
b(`p')h(paints)f(the)h(layer;)j(k)o(e)o(y)c(`e')0 1392
y(erases)c(it.)30 b(K)n(e)o(y)24 b(`s')h(selects)g(the)g(layer)g(in)f
(the)h(box)f(while)g(k)o(e)o(y)h(`S')g(unselects)f(it.)146
1513 y(The)f(menubar)f(has)g(three)h(items,)f Fc(File)p
Fe(,)g Fc(Cell)p Fe(,)h(and)f Fc(T)-9 b(ech)p Fe(.)31
b(Button)22 b Fc(File)g Fe(pops)g(up)g(a)h(menu)f(with)g(options)e(to)0
1633 y(read)28 b(and)f(write)g(layout,)f(read)i(and)f(write)g(CIF)h(or)
f(GDS)h(output,)e(open)h(a)g(ne)n(w)g(layout)f(windo)n(w)g(or)h(close)g
(the)0 1753 y(e)o(xisting)18 b(one,)k(or)e(\003ush)g(the)h(current)f
(edit)g(cell.)29 b(Buttons)20 b Fc(Cell)g Fe(and)g Fc(T)-9
b(ech)22 b Fe(re)n(v)o(eal)e(transient)f(windo)n(ws)g(sho)n(wing)0
1874 y(information)24 b(about)i(the)f(cell)h(hierarchy)g(and)f(the)h
(technology)f(\002le,)h(respecti)n(v)o(ely)-6 b(.)32
b(The)25 b(cell)h(hierarchy)g(vie)n(w)0 1994 y(is)21
b(only)g(a)n(v)n(ailable)g(if)g(the)h(Tcl/Tk)f(package)h
Fc(BL)-9 b(T)23 b Fe(has)e(been)h(compiled)f(and)g(installed)f(on)i
(the)f(system.)29 b(If)22 b(so,)g(it)0 2114 y(gi)n(v)o(es)h(a)i(tree)f
(vie)n(w)g(of)h(the)f(cell)g(hierarchy)g(and)h(allo)n(ws)e(speci\002c)i
(cells)f(to)g(be)g(loaded,)g(edited,)g(and)h(e)o(xpanded,)0
2235 y(or)h(vie)n(wed)g(to)g(\002t)g(the)h(windo)n(w)-6
b(.)33 b(This)25 b(can)i(be)f(e)o(xpecially)g(useful)g(for)g(querying)g
(the)g(cell)g(hierarchy)g(of)h(GDS)0 2355 y(\002les,)e(which)f(do)h
(not)f(declare)i(top-le)n(v)o(el)d(cells)h(lik)o(e)h(CIF)g(\002les)g
(do.)146 2476 y(The)31 b(technology)e(manager)i(windo)n(w)e(reports)h
(the)g(current)h(technology)e(\002le,)k(its)c(v)o(ersion)h(and)g
(descrip-)0 2596 y(tion,)23 b(and)h(the)g(current)h(CIF)g(input)e(and)h
(output)f(styles,)g(the)h(current)g(e)o(xtraction)f(style,)g(and)h(the)
g(current)h(v)n(alue)0 2716 y(of)f(lambda)g(in)g(microns.)29
b(The)c(technology)e(\002le)h(and)g(the)h(CIF)g(input)e(and)h(output)f
(styles)g(and)i(e)o(xtraction)e(style)0 2837 y(are)k(also)g(b)n(uttons)
e(which)h(can)h(be)g(used)g(to)f(select)h(a)g(ne)n(w)f(style)g(or)h
(technology)f(from)g(those)g(currently)h(a)n(v)n(ail-)0
2957 y(able.)40 b(Clicking)28 b(on)f(the)h(current)h(e)o(xtract)e
(style,)h(for)h(instance,)f(gi)n(v)o(es)e(a)j(list)e(of)h(the)g(styles)
f(which)g(ha)n(v)o(e)h(been)0 3077 y(speci\002ed)f(in)g(the)g(current)g
(technology)f(\002le.)37 b(Clicking)26 b(on)h(one)g(of)g(the)g(entries)
f(in)h(the)g(list)f(mak)o(es)g(it)h(the)g(ne)n(w)0 3198
y(current)e(e)o(xtract)g(style.)146 3318 y(Cell)j(hierarchy)e(and)h
(technology)f(manager)i(windo)n(ws)d(should)h(be)h(closed)g(by)g
(clicking)f(on)h(the)g(\223Close\224)0 3439 y(b)n(utton)f(at)g(the)h
(bottom,)f(not)g(by)g(in)l(v)n(oking)f(an)o(y)i(titlebar)f(functions)f
(\(which)i(will)f(probably)g(cause)h(the)g(whole)0 3559
y(application)d(to)g(e)o(xit\).)0 3727 y Fa(Example)g(5:)31
b(Batc)o(h-mode)25 b(Magic)146 3968 y Fe(Unlik)o(e)j(pre)n(vious)f(v)o
(ersions)f(of)j(magic,)f(it)g(is)f(not)h(necessary)g(to)g(ha)n(v)o(e)g
(a)g(layout)g(windo)n(w)f(present)g(to)h(run)0 4088 y(magic.)i(Magic)25
b(may)f(be)h(in)l(v)n(ok)o(ed)f(in)g(\223batch)h(mode\224)g(by)f(the)h
(follo)n(wing)e(command-line:)900 4285 y Ff(#)i Fc(magic)f(-no)o(windo)
o(w)i(tut2b)146 4602 y Fe(Note)g(ho)n(we)n(v)o(er)l(,)f(that)h(most)f
(magic)g(commands)g(e)o(xpect)h(a)g(windo)n(w)f(to)h(be)g(present)g(to)
f(e)o(x)o(ecute)h(the)g(func-)0 4722 y(tion.)65 b(The)37
b(main)e(use)i(for)g(batch)f(mode)g(is)g(for)h(wrapper)n(-type)g
(applications)e(to)h(delay)g(opening)g(a)h(layout)0 4842
y(windo)n(w)23 b(until)h(one)h(is)f(requested.)31 b(F)o(or)24
b(e)o(xample:)900 5039 y Ff(#)h Fc(magic)f(-no)o(windo)o(w)i(tut2b)900
5159 y Ff(\045)f Fc(tople)o(v)o(el)f(.myframe)900 5280
y Ff(\045)h Fc(openwindo)o(w)h(tut2b)g(.myframe.mylay)n(out)900
5400 y Ff(\045)f Fc(pack)h(.myframe.mylay)n(out)1875
5649 y Fe(\2268\226)p eop
%%Page: 9 9
9 8 bop 0 -180 a Fe(Magic)24 b(Tcl)h(T)l(utorial)f(#1:)30
b(Introduction)1885 b(April)24 b(12,)h(2006)900 84 y
Ff(\045)g Fc(.myframe.mylay)n(out)f(box)h(0)g(0)f(12)h(12)900
205 y Ff(\045)g Fc(.myframe.mylay)n(out)f(select)h(ar)n(ea)g(poly)900
325 y Ff(\045)g Fc(wm)g(withdraw)g(.myframe)900 445 y
Ff(\045)g Fc(wm)g(deiconify)g(.myframe)900 566 y Ff(\045)g
Fc(.myframe.mylay)n(out)f(closewindo)o(w)146 867 y Fe(Note)e(that)g
(this)f(is)h(the)g(basic)g(setup)g(of)g(the)g(standard)g(GUI)g(wrapper)
l(,)h(albeit)f(with)f(much)h(greater)h(sophisti-)0 987
y(cation.)29 b(The)22 b(standard)f(GUI)h(wrapper)h(is)e(generated)h
(entirely)f(by)h(script,)g(which)f(can)h(be)g(found)f(in)h(the)f
(library)0 1108 y(directory)k Fc($)p Fb(f)p Fc(CAD)p
707 1108 30 4 v 35 w(HOME)p Fb(g)p Fc(/lib/magic/tcl/wrapper)-10
b(.tcl)p Fe(.)0 1270 y Fa(Example)24 b(6:)31 b(Tcl-Magic)24
b(under)i(the)f(De)o(b)n(ugger)146 1511 y Fe(When)36
b(running)f(under)g(Tcl,)j(Magic)d(cannot)h(be)f(deb)n(ugged)g(in)h
(the)f(usual)g(manner)h(of)f(e)o(x)o(ecuting,)i(for)0
1631 y(instance,)22 b(\223)p Fc(gdb)i(magic)p Fe(\224,)e(because)h(the)
f(main)g(e)o(x)o(ecutable)f(is)h(actually)g(the)g(program)g(\223)p
Fc(wish)p Fe(\224.)30 b(T)-8 b(o)22 b(run)g(Magic)0 1752
y(with)g(deb)n(ugging)g(capability)-6 b(,)21 b(it)h(is)h(necessary)g
(to)f(do)h(the)f(steps)h(belo)n(w)-6 b(.)28 b(In)23 b(the)g(follo)n
(wing,)e(it)h(is)h(assumed)f(that)0 1872 y(Magic)30 b(has)g(been)g
(installed)f(in)h(the)f(def)o(ault)h(location)g Fd(CAD)p
2137 1872 V 35 w(HOME=/usr/local/)p Fe(,)e(and)i(that)f(the)h(GNU)0
1993 y(deb)n(ugger)25 b Fd(gdb)f Fe(is)g(the)h(deb)n(ugger)f(of)h
(choice.)600 2173 y Ff(#)g Fc(gdb)g(wish)600 2294 y Ff(\(gdb\))g
Fc(run)600 2414 y Ff(\045)g Fc(sour)n(ce)h
(/usr/local/lib/magic/tcl/magic.tcl)900 2534 y Fe(.)900
2655 y(.)900 2775 y(.)600 2896 y Ff(\045)f(\(type)g(Contr)l(ol-C)f(in)g
(the)h(terminal)f(window\))600 3016 y(\(gdb\))h Fc(br)n(eak)h
(TxTclDispatch)600 3136 y Ff(\(gdb\))f Fc(cont)600 3257
y Ff(\045)g Fc(paint)g(m1)600 3498 y Fd(Breakpoint)58
b(1,)h(TxTclDispath)e(\(clientData=0x0,)f(argc=2,)900
3618 y(argv=0xbffff400\))899 3738 y(at)j(txCommands.c:1146)600
3859 y(1146)537 b(DRCBreak\(\);)600 3979 y Ff(\(gdb\))146
4280 y Fe(Command-line)26 b(ar)n(guments)h(can)h(be)f(passed)g(to)g
(magic)f(through)h(the)g(Tcl)g(v)n(ariables)f Fd(argc)h
Fe(and)g Fd(argv)p Fe(.)0 4401 y(The)h(inte)o(ger)f(v)n(alue)g
Fd(argc)g Fe(must)f(match)i(the)f(number)g(of)h(entries)g(passed)f(in)g
(the)h Fd(argv)f Fe(list.)38 b(F)o(or)28 b(e)o(xample,)0
4521 y(do)d(the)f(follo)n(wing:)900 4702 y Ff(#)h Fc(gdb)g(wish)900
4822 y Ff(\(gdb\))g Fc(run)900 4942 y Ff(\045)g Fc(set)g(ar)o(gc)g(4)
900 5063 y Ff(\045)g Fc(set)g(ar)o(gv)g Fb(f)p Fc(-w)f(-d)i(OGL)e(tut1)
i Fb(g)900 5183 y Ff(\045)f Fc(sour)n(ce)h
(/usr/local/lib/magic/tcl/magic.tcl)1875 5649 y Fe(\2269\226)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
