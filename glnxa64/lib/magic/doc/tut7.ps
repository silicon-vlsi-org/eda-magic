%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: tut7.dvi
%%Pages: 13
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Italic Times-Roman Helvetica font
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -t letter tut7.dvi -o ../psfiles/tut7.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2006.04.12:1203
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (tut7.dvi)
@start
%DVIPSBitmapFont: Fa cmr8 8 1
/Fa 1 51 df<EB7F803801FFF0380780FC380E003F48EB1F8048EB0FC05A0060EB07E012
F000FC14F07E1403A3007C1307C7FCA215E0140F15C0141F1580EC3F00147E147C5C495A
495A495A495A011EC7FC5B5B4913305B485A4848136048C7FC000E14E0001FB5FC5A4814
C0B6FCA21C2C7DAB23>50 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fb cmmi12 12 1
/Fb 1 79 df<91B500C0020FB5128082A2DA007F9239007FE00070ED1F8074C7FCDBEFF8
150E15CF03C7160C70151C1401DB83FE1518A2DB81FF1538140303001630831A704A6D7E
02061760163F7114E0140E020C6D6C5CA2706C1301141C021801075D83190302386D7E02
3094C8FC1601715B147002606DEB8006A294387FC00E14E04A023F130C18E0191C0101ED
1FF04A1618170FF0F838130391C83807FC30A2943803FE705B01060301136018FF19E001
0E81010C5F187FA2131C0118705A1338181F137801FC70C9FCEA03FFB512F88418065144
7CC34E>78 D E
%EndDVIPSBitmapFont
/Fc 134[50 50 72 50 55 33 39 44 1[55 50 55 83 28 55 33
28 55 50 33 44 55 44 55 50 3[33 1[33 4[72 1[66 55 2[61
1[72 7[61 2[72 8[33 1[50 50 2[50 50 50 50 50 28 43[55
55 2[{TeXBase1Encoding ReEncodeFont}44 99.6264 /Times-Bold
rf /Fd 134[60 3[66 40 47 53 2[60 66 100 33 2[33 66 2[53
66 53 66 60 12[80 66 3[93 86 113 80 8[86 8[40 1[60 4[60
60 60 2[30 43[66 2[{TeXBase1Encoding ReEncodeFont}30
119.552 /Times-Bold rf /Fe 105[50 1[44 44 10[33 13[44
50 50 72 50 50 28 39 33 50 50 50 50 78 28 50 28 28 50
50 33 44 50 44 50 44 3[33 1[33 1[72 1[94 72 72 61 55
66 1[55 72 72 89 61 2[33 72 72 55 61 72 66 66 72 92 44
3[28 28 50 50 50 50 50 50 50 50 50 50 28 25 33 25 1[50
33 33 33 2[50 50 1[33 29[55 55 2[{TeXBase1Encoding ReEncodeFont}80
99.6264 /Times-Roman rf /Ff 134[44 2[44 50 28 39 39 1[50
50 50 72 28 2[28 50 50 28 44 50 44 50 50 11[72 5[72 4[44
33 1[72 17[50 3[50 2[25 33 25 2[33 33 37[50 2[{
TeXBase1Encoding ReEncodeFont}33 99.6264 /Times-Italic
rf /Fg 136[104 1[80 48 56 64 2[72 80 120 40 80 1[40 80
72 48 64 80 64 80 72 9[143 2[96 1[104 3[104 135 96 2[56
112 1[88 96 1[104 8[48 72 72 72 72 72 72 72 72 72 13[72
35[{TeXBase1Encoding ReEncodeFont}41 143.462 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: Letter
letter
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 731 101 a Fg(Magic)35 b(T)-13 b(utorial)34 b(#7:)44
b(Netlists)34 b(and)h(Routing)1618 521 y Ff(J)n(ohn)24
b(Ousterhout)1401 941 y Fe(Computer)g(Science)i(Di)n(vision)1020
1062 y(Electrical)f(Engineering)f(and)h(Computer)f(Sciences)1473
1182 y(Uni)n(v)o(ersity)f(of)i(California)1544 1303 y(Berk)o(ele)o(y)-6
b(,)24 b(CA)h(94720)1448 1573 y Ff(\(Updated)f(by)h(other)o(s,)f
(too.\))1053 1843 y Fe(This)g(tutorial)g(corresponds)g(to)g(Magic)h(v)o
(ersion)e(7.)0 2415 y Fd(T)-11 b(utorials)30 b(to)f(r)n(ead)h(\002rst:)
300 2662 y Fe(Magic)24 b(T)l(utorial)g(#1:)30 b(Getting)24
b(Started)300 2782 y(Magic)g(T)l(utorial)g(#2:)30 b(Basic)25
b(P)o(ainting)f(and)h(Selection)300 2903 y(Magic)f(T)l(utorial)g(#3:)30
b(Adv)n(anced)24 b(P)o(ainting)g(\(W)l(iring)g(and)h(Plo)n(wing\))300
3023 y(Magic)f(T)l(utorial)g(#4:)30 b(Cell)25 b(Hierarchies)300
3143 y(Magic)f(T)l(utorial)g(#5:)30 b(Multiple)23 b(W)l(indo)n(ws)0
3503 y Fd(Netlist)30 b(Commands)f(intr)n(oduced)j(in)f(this)e
(tutorial:)300 3750 y Fe(:e)o(xtract,)24 b(:\003ush,)g(:ripup,)g(:sa)n
(v)o(enetlist,)f(:trace,)i(:writeall)0 3990 y Fd(Lay)m(out)k(Commands)h
(intr)n(oduced)h(in)g(this)f(tutorial:)300 4237 y Fe(:channel,)24
b(:route)0 4476 y Fd(Macr)n(os)29 b(intr)n(oduced)i(in)g(this)f
(tutorial:)300 4763 y Ff(\(none\))1875 5649 y Fe(\2261\226)p
eop
%%Page: 2 2
2 1 bop 0 -180 a Fe(April)24 b(12,)h(2006)1717 b(Magic)24
b(T)l(utorial)g(#7:)30 b(Netlists)23 b(and)i(Routing)0
99 y Fg(1)143 b(Intr)m(oduction)0 331 y Fe(This)31 b(tutorial)f
(describes)i(ho)n(w)e(to)h(use)h(Magic')-5 b(s)31 b(automatic)f
(routing)h(tools)f(to)h(mak)o(e)h(interconnections)e(be-)0
451 y(tween)23 b(subcells)g(in)f(a)i(design.)29 b(In)24
b(addition)e(to)h(the)g(standard)g(Magic)f(router)l(,)i(which)f(is)g
(in)l(v)n(ok)o(ed)f(by)h(the)g Fc(r)n(oute)0 572 y Fe(command)31
b(and)g(co)o(v)o(ered)h(in)f(this)g(tutorial,)h(tw)o(o)f(other)h
(routing)e(tools)h(are)i(a)n(v)n(ailable.)50 b(A)32 b(gate-array)g
(router)0 692 y Ff(Gar)l(outer)f Fe(permits)g(user)h(speci\002ed)h
(channel)f(de\002nitions,)g(terminals)g(in)f(the)h(interior)g(of)g
(cells,)i(and)e(route-)0 813 y(throughs)23 b(across)i(cells.)30
b(T)-8 b(o)24 b(learn)h(about)f(the)g(gate-array)h(router)f(read)h
(this)f(\002rst)g(then)h(\223Magic)f(T)l(utorial)f(#12:)0
933 y(Routing)h(Gate)i(Arrays\224.)32 b(Finally)24 b(Magic)h(pro)o
(vides)f(an)h(interacti)n(v)o(e)f(maze-router)i(that)e(tak)o(es)h
(graphic)g(hints,)0 1053 y(the)35 b Ff(Ir)l(outer)p Fe(,)h(that)f
(permits)f(the)h(user)g(to)f(control)h(the)f(o)o(v)o(erall)g(path)h(of)
g(routes)f(while)h(lea)n(ving)f(the)h(tedious)0 1174
y(details)24 b(to)g(Magic.)31 b(The)25 b Ff(Ir)l(outer)e
Fe(is)i(documented)e(in)i(\223Magic)g(T)l(utorial)e(#10:)30
b(The)25 b(Interacti)n(v)o(e)f(Router\224.)146 1298 y(The)f(standard)e
(Magic)h(router)g(pro)o(vides)f(an)i Ff(obstacle-avoidance)d
Fe(capability:)29 b(if)22 b(there)g(is)g(mask)g(material)0
1419 y(in)39 b(the)g(routing)f(areas,)43 b(the)c(router)g(can)h(w)o
(ork)f(under)l(,)k(o)o(v)o(er)l(,)e(or)f(around)f(that)f(material)h(to)
g(complete)f(the)0 1539 y(connections.)29 b(This)24 b(means)g(that)f
(you)h(can)h(pre-route)f(k)o(e)o(y)g(signals)f(by)h(hand)g(and)g(ha)n
(v)o(e)g(Magic)g(route)g(the)g(less)0 1659 y(important)i(signals)g
(automatically)-6 b(.)35 b(In)27 b(addition,)g(you)f(can)i(route)f(po)n
(wer)f(and)h(ground)g(by)g(hand)f(\(right)h(no)n(w)0
1780 y(we)e(don')n(t)f(ha)n(v)o(e)h(an)o(y)f(po)n(wer)n(-ground)g
(routing)g(tools,)f(so)i(you)f Ff(have)h Fe(to)g(route)f(them)g(by)h
(hand\).)146 1904 y(The)30 b(router)g Ff(only)f Fe(mak)o(es)g
(connections)g(between)h(subcells;)h(to)e(mak)o(e)h(point-to-point)d
(connections)i(be-)0 2025 y(tween)20 b(pieces)g(of)g(layout)f(within)f
(a)j(single)e(cell)g(you)h(should)f(use)g(the)h(wiring)f(command)g
(described)h(in)f(\223Magic)0 2145 y(T)l(utorial)g(#3:)28
b(Adv)n(anced)19 b(P)o(ainting)g(\(W)l(iring)h(and)g(Plo)n(wing\))f
(\224)h(or)g(the)g(maze)h(router)f(described)g(in)g(\223Magic)g(T)l(u-)
0 2265 y(torial)25 b(#10:)32 b(The)26 b(Interacti)n(v)o(e)f
(Router\224.)34 b(If)27 b(you)e(only)g(need)h(to)f(mak)o(e)h(a)g(fe)n
(w)g(connections)f(you)g(are)i(probably)0 2386 y(better)e(of)n(f)f
(doing)g(them)g(manually)-6 b(.)146 2510 y(The)30 b(\002rst)g(step)f
(in)g(routing)g(is)g(to)g(tell)g(Magic)g(what)h(should)e(be)i
(connected)g(to)f(what.)45 b(This)29 b(information)0
2631 y(is)j(contained)g(in)g(a)g(\002le)h(called)f(a)h
Ff(netlist)p Fe(.)52 b(Sections)32 b(2,)i(3,)g(4,)g(and)f(5)f(describe)
g(ho)n(w)g(to)g(create)h(and)f(modify)0 2751 y(netlists)26
b(using)g(Magic')-5 b(s)26 b(interacti)n(v)o(e)g(netlist)f(editing)h
(tools.)37 b(Once)27 b(you')-5 b(v)o(e)27 b(created)h(a)f(netlist,)f
(the)h(ne)o(xt)g(step)0 2871 y(is)d(to)f(in)l(v)n(ok)o(e)h(the)g
(router)-5 b(.)30 b(Section)24 b(6)g(sho)n(ws)e(ho)n(w)i(to)f(do)h
(this,)f(and)h(gi)n(v)o(es)f(a)h(brief)h(summary)e(of)h(what)g(goes)f
(on)0 2992 y(inside)k(the)i(routing)e(tools.)40 b(Unless)28
b(your)g(design)g(is)f(v)o(ery)h(simple)g(and)g(has)g(lots)g(of)g(free)
h(space,)h(the)e(routing)0 3112 y(probably)j(w)o(on')n(t)g(succeed)h
(the)f(\002rst)g(time.)50 b(Section)31 b(7)g(describes)h(the)f
(feedback)h(pro)o(vided)e(by)h(the)g(routing)0 3233 y(tools.)d
(Sections)20 b(8)g(and)g(9)g(discuss)f(ho)n(w)g(you)g(can)i(modify)e
(your)h(design)f(in)g(light)g(of)h(this)g(feedback)g(to)g(impro)o(v)o
(e)0 3353 y(its)k(routability)-6 b(.)29 b(Y)-11 b(ou')o(ll)24
b(probably)g(need)h(to)f(iterate)h(a)g(fe)n(w)g(times)f(until)f(the)i
(routing)f(is)g(successful.)0 3719 y Fg(2)143 b(T)-13
b(erminals)34 b(and)h(Netlists)0 3951 y Fe(A)24 b(netlist)f(is)g(a)h
(\002le)g(that)g(describes)g(a)g(set)g(of)g(desired)f(connections.)30
b(It)24 b(contains)f(one)g(or)h(more)g Ff(nets)p Fe(.)30
b(Each)24 b(net)0 4072 y(names)30 b(a)h(set)f(of)h Ff(terminals)e
Fe(that)h(should)f(all)i(be)f(wired)h(together)-5 b(.)47
b(A)30 b(terminal)g(is)g(simply)f(a)i(label)f(attached)0
4192 y(to)k(a)g(piece)h(of)f(mask)f(material)h(within)f(a)h(subcell;)k
(it)c(is)f(distinguishable)f(from)i(ordinary)f(labels)h(within)f(a)0
4312 y(subcell)27 b(by)g(its)g(presence)h(within)f(a)h(netlist)e
(\002le)i(and)g(by)f(certain)h(characteristics)f(common)g(to)g
(terminals,)g(as)0 4433 y(described)e(belo)n(w)-6 b(.)146
4557 y(The)37 b(\002rst)g(step)f(in)h(b)n(uilding)e(a)i(netlist)e(is)h
(to)h(label)f(the)h(terminals)e(in)i(your)f(design.)66
b(Figure)37 b(1)f(sho)n(ws)0 4678 y(an)f(e)o(xample.)61
b(Each)35 b(label)g(should)e(be)i(a)h(line)e(or)h(rectangle)h(running)e
(along)g(the)h(edge)g(of)g(the)g(cell)g(\(point)0 4798
y(terminals)i(are)i(not)e(allo)n(wed\).)70 b(The)38 b(router)g(will)f
(mak)o(e)h(a)h(connection)e(to)h(the)g(cell)g(some)n(where)f(along)h(a)
0 4918 y(terminal')-5 b(s)29 b(length.)46 b(If)30 b(the)g(label)g(isn')
n(t)g(at)g(the)g(edge)g(of)g(the)g(cell,)h(Magic)f(will)f(route)h
(recklessly)g(across)g(the)0 5039 y(cell)25 b(to)g(reach)g(the)g
(terminal,)f(taking)h(the)f(shortest)g(path)h(between)g(the)g(terminal)
f(and)h(a)h(routing)d(channel.)32 b(It')-5 b(s)0 5159
y(almost)27 b(al)o(w)o(ays)h(a)g(good)f(idea)h(to)g(arrange)h(for)f
(terminal)f(labels)g(to)h(be)g(at)g(cell)g(edges.)40
b(The)28 b(label)g(must)f(be)h(at)0 5280 y(least)21 b(as)h(wide)g(as)g
(the)f(minimum)f(width)h(of)g(the)h(routing)f(material;)h(the)f(wider)h
(you)f(mak)o(e)h(the)g(label,)g(the)f(more)0 5400 y(\003e)o(xibility)i
(you)h(gi)n(v)o(e)g(the)g(router)h(to)g(choose)f(a)h(good)g(point)e(to)
i(connect)f(to)h(the)f(terminal.)1875 5649 y(\2262\226)p
eop
%%Page: 3 3
3 2 bop 0 -180 a Fe(Magic)24 b(T)l(utorial)g(#7:)30 b(Netlists)23
b(and)i(Routing)1717 b(April)24 b(12,)h(2006)975 804
y @beginspecial 68 @llx 68 @lly 364 @urx 190 @ury 2340
@rwi @setspecial
%%BeginDocument: ../psfigures/tut7.1.ps
%!PS-Adobe-3.0 EPSF-3.0
%%Title: ../psfiles/tut7.1.ps
%%Creator: Xcircuit v2.0
%%CreationDate: Fri Apr 14 13:29:20 2000
%%Pages: 1
%%BoundingBox: 68 68 364 190
%%DocumentNeededResources: font Helvetica font Times-Roman 
%%EndComments
%%BeginProlog
%
%  PostScript prolog for output from xcircuit
%  Version: 2.0
%
%  Electrical circuit (and otherwise general) drawing program
%
%  Written by Tim Edwards 8/5/93--2/25/99  (tim@bach.ece.jhu.edu)
%  The Johns Hopkins University
%
%%BeginResource: procset XCIRCproc 2.0 2
% supporting definitions --- these are the primary xcircuit types.

/XCIRCsave save def
/topmat matrix currentmatrix def

/fontslant { /slant exch def [1 0 slant 1 0 0] 
    exch findfont exch makefont dup length dict /ndict exch def
    { 1 index /FID ne { ndict 3 1 roll put } { pop pop } ifelse } forall
    ndict definefont pop} def
/cf { dup type /realtype eq {40 mul /fscale exch def} if dup /xfont exch def
   findfont fscale scalefont setfont } def
/Ss { gsave 0.67 dup scale gsave mty neg rmoveto
   glevel 1 add /glevel exch def } def
/ss { gsave 0.67 dup scale gsave mty 0.5 mul rmoveto
   glevel 1 add /glevel exch def } def
/ns { currentpoint transform   % preserve x position!
   glevel {grestore} repeat /glevel 0 def
   itransform pop currentpoint pop sub 0 rmoveto } def
/ul { showflag 1 eq { gsave 
   currentpoint topmat setmatrix 0 0 moveto 2 index stringwidth pop (_)
   false charpath flattenpath pathbbox grestore exch pop 1 index
   sub setlinewidth exch pop currentpoint 3 -1 roll add moveto 0
   rlineto stroke moveto } if } def
/ol { showflag 1 eq { gsave gsave
   currentpoint topmat setmatrix 2 index stringwidth pop 3 index
   true charpath flattenpath pathbbox grestore exch pop
   exch pop topmat setmatrix (_) true charpath pathbbox grestore
   exch pop 1 index sub setlinewidth exch pop currentpoint
   exch 4 1 roll exch sub add moveto pop 0 rlineto stroke
   moveto } if } def
/stW { gsave true charpath flattenpath pathbbox pop exch pop sub
   grestore } def
/bs { stW 0 rmoveto } def
/pspc 0 def
/qS { (aa) stW (a a) stW sub 4 div 0 rmoveto } def
/hS { qS qS } def
/textx { dup 1 add copy 0 exch { exch dup type /stringtype eq
	{stringwidth pop add}{exec} ifelse } repeat neg ns } def
/mty { 0 topmat setmatrix (A) true charpath flattenpath pathbbox exch
   pop exch sub exch pop neg grestore } def
/texty { gsave 2 copy pop exec mty } def
/tcenter { textx grestore 0.5 mul 0 rmoveto } def
/tright  { textx grestore fspc sub 0 rmoveto } def
/tmiddle { texty 0.5 mul rmoveto } def
/ttop    { texty fspc sub rmoveto } def
/tshow {{ dup type /stringtype eq {show}{exec} ifelse} repeat ns } def

/label  { gsave translate 0 0 moveto rotate /just exch def just 16 and 0 gt
	{0 1 dtransform gsave pagemat setmatrix idtransform exch grestore
	1 0 dtransform gsave pagemat setmatrix idtransform exch grestore
	dup 0 eq {pop mul 0 gt} {3 1 roll pop pop 0 lt} ifelse
	{-1 /just just dup 3 and 1 ne {3 xor} if def} {1} ifelse exch 0 lt
	{-1 /just just dup 12 and 4 ne {12 xor} if def} {1} ifelse scale } if
	/glevel 0 def /showflag 0 def /fspc pspc def
	just 1 and 0 gt {gsave just 2 and 0 gt {tright}{tcenter} ifelse}
	{fspc 0 rmoveto} ifelse
	just 4 and 0 gt {just 8 and 0 gt {ttop}{tmiddle} ifelse}
	{0 fspc rmoveto} ifelse
	/showflag 1 def tshow grestore } def
/pinlabel { hlevel 0 eq { /pspc 20 def label /pspc 0 def }
	{ pop pop pop pop {pop} repeat } ifelse } def
/pinglobal { pinlabel } def
/infolabel { pinlabel } def

/begingate { /hlevel hlevel 1 add def gsave translate 0 0 moveto dup 0 lt
	{neg 1 sub -1 1 scale} if rotate dup scale } bind def
/makeparm  {3 string cvs dup length 1 add string /tstr exch def tstr exch
	1 exch putinterval tstr 0 (v) putinterval tstr cvn} bind def
/beginparm { -1 1 {makeparm exch def} for
	dup type /arraytype eq { aload length -1 1 {makeparm exch def}
	for } if begingate } bind def
/endgate { /hlevel hlevel 1 sub def grestore } bind def

/hlevel 0 def
/tmpa [1 0 0 1 0 0] def
/gar {8 8 true tmpa {<c0 c0 00 00 0c 0c 00 00>} imagemask} bind
{8 8 true tmpa {<30 70 60 02 03 07 06 20>} imagemask} bind
{8 8 true tmpa {<0c 1e 1e 0c c0 e1 e1 c0>} imagemask} bind
{8 8 true tmpa {<0f 0f 0f 0f f0 f0 f0 f0>} imagemask} bind
{8 8 true tmpa {<3f f3 e1 e1 f3 3f 1e 1e>} imagemask} bind
{8 8 true tmpa {<df cf 8f 9f fd fc f8 f9>} imagemask} bind
{8 8 true tmpa {<ff 3f 3f ff ff f3 f3 ff>} imagemask} bind 7 array astore def
/ppaint { gsave clip tmpa dup setmatrix pathbbox neg exch neg 4 2 roll
  neg 4 -1 roll 2 copy gt {exch} if 8 div ceiling 8 mul 4 2 roll neg 2 copy
  gt {exch} if 8 div ceiling 8 mul 3 -1 roll -8 5 -1 roll
  { 3 index exch 5 exch put dup -8 3 index { 3 index
  exch 4 exch put 3 index exec } for } for pop pop pop pop grestore } bind def
/setstyles {
  currentlinewidth mul setlinewidth /style exch def
  style 1 and 0 gt not {closepath} if
  style 2 and 0 gt {currentlinewidth 4 mul dup 2 array astore 0 setdash} if 
  style 4 and 0 gt {0.5 currentlinewidth 4 mul 2 array astore 0 setdash} if 
  style dup 256 ge exch 480 lt and { gsave 1 setgray eofill grestore } if
  style 16 and 0 gt { gsave style 224 and -5 bitshift dup 7 lt
	{gar exch get ppaint} { pop eofill } ifelse grestore } if
  style 8 and 0 gt { newpath } { stroke } ifelse grestore } def
/scb { gsave setrgbcolor } bind def  /sce { grestore } bind def

/polygon { gsave /num exch def moveto num 1 sub {lineto} repeat setstyles } def
/xcarc   { gsave newpath arc setstyles } def
/elb { matrix currentmatrix 7 -1 roll 7 -1 roll translate 5 1 roll 4 -1 roll
	3 index div 1 scale } def
/ele { 0 4 1 roll 0 4 1 roll } bind def
/ellipse { gsave elb newpath ele arc setmatrix setstyles } def
/pellip  { elb ele arc setmatrix } def
/nellip  { elb ele arcn setmatrix } def
/spline  { gsave moveto curveto setstyles } def
/polyc   { {lineto} repeat } bind def
/beginpath { gsave moveto } bind def
/endpath { setstyles } bind def
/bop	 { 1 setlinecap 0 setlinejoin 6 setmiterlimit 0 setgray } def
/insertion {/PSobj save def /showpage {} def bop translate} def
/end_insert {PSobj restore} def
/setpagemat {/pagemat matrix currentmatrix def} def
/inchscale  {setpagemat 0.375 mul dup scale} def
/cmscale    {setpagemat 0.35433071 mul dup scale} def

%%EndResource
%%EndProlog

% XCircuit output starts here.

/arrowhead {
% -12 -32 24 36 bbox
begingate
8 -28 beginpath
3 -18 3 -15 0 0 curveto
-3 -15 -3 -18 -8 -28 curveto
-2 -26 2 -26 8 -28 curveto
249  1.00 endpath
endgate
} def

/arrow {
% -12 -40 24 80 bbox
begingate
1  0.80 0 -40 0 20 2 polygon
1.00 0 0 40 arrowhead
endgate
} def

%%Page: 1 1
%%PageOrientation: Portrait
/pgsave save def bop
% 480 256 offsets
1.0000 inchscale
2.6000 setlinewidth

0.800 0.800 0.800 scb
240  1.00 192 192 192 496 960 496 960 192 4 polygon
sce
0.490 0.651 0.980 scb
240  1.00 672 224 672 320 800 320 800 224 4 polygon
240  1.00 384 192 384 384 512 384 512 192 4 polygon
sce
1  1.00 256 192 256 384 800 384 800 192 4 polygon
1.000 1.000 0.000 scb
(Input) {/Helvetica 1.000 cf} 2 29 0 448 376 label
sce
(Cell Boundary) {/Times-Roman 1.000 cf} 2 27 0 848 444 label
1.000 1.000 0.000 scb
(Output) {/Helvetica 1.000 cf} 2 20 0 808 272 label
sce
1  1.00 672 224 800 224 2 polygon
1  1.00 672 320 800 320 2 polygon
1  1.00 512 384 512 192 2 polygon
1  1.00 384 384 384 192 2 polygon
1.000 1.000 0.000 scb
1  1.00 800 224 800 320 2 polygon
0  1.00 384 320 384 384 512 384 512 320 4 polygon
sce
1.00 135 580 412 arrow
pgsave restore showpage

%%Trailer
XCIRCsave restore
%%EOF

%%EndDocument
 @endspecial 0 1007 a(Figure)h(1:)33 b(An)26 b(e)o(xample)f(of)i
(terminal)e(labels.)34 b(Each)26 b(terminal)f(should)g(be)h(labeled)g
(with)g(a)g(line)g(or)g(rectangle)0 1127 y(along)e(the)h(edge)g(of)g
(the)f(cell.)146 1499 y(T)-7 b(erminal)35 b(labels)h(must)e(be)i
(attached)g(to)f(mask)g(material)g(that)h(connects)f(directly)g(to)h
(one)f(of)h(Magic')-5 b(s)0 1620 y(tw)o(o)33 b(routing)f(layers)i
(\(Routing)f(layers)g(are)h(de\002ned)g(in)f(Magic')-5
b(s)33 b(technology)f(\002le\).)57 b(F)o(or)34 b(e)o(xample,)g(in)f
(the)0 1740 y(SCMOS)e(process)e(where)i(the)e(routing)g(layers)h(are)g
(metal1)f(and)h(metal2,)h(dif)n(fusion)d(may)h(not)g(be)h(used)g(as)g
(a)0 1860 y(terminal)21 b(since)h(neither)g(of)g(the)g(routing)f
(layers)h(will)g(connect)g(directly)f(to)h(it.)29 b(On)22
b(the)g(other)g(hand,)g(a)h(terminal)0 1981 y(may)k(be)h(attached)g(to)
g(dif)n(fusion-metal1)d(contact,)k(since)e(the)h(metal1)f(routing)g
(layer)h(will)f(connect)g(properly)0 2101 y(to)h(it.)40
b(T)-7 b(erminals)27 b(can)i(ha)n(v)o(e)f(arbitrary)g(names,)h(e)o
(xcept)e(that)h(the)o(y)g(should)f(not)g(contain)h(slashes)f
(\(\223/\224\))i(or)f(the)0 2222 y(substring)g(\223feedthrough\224,)j
(and)f(should)f(not)g(end)h(in)f(\223@\224,)i(\223$\224,)h(or)d
(\223\210\224.)47 b(See)31 b(T)l(utorial)d(#2)i(for)g(a)g(complete)0
2342 y(description)24 b(of)h(labeling)e(con)l(v)o(entions.)146
2467 y(F)o(or)37 b(an)f(e)o(xample)f(of)h(good)g(and)g(bad)g
(terminals,)i(edit)e(the)g(cell)g Fc(tut7a)p Fe(.)65
b(The)37 b(cell)f(doesn')n(t)g(mak)o(e)g(an)o(y)0 2587
y(electrical)c(sense,)i(b)n(ut)e(contains)g(se)n(v)o(eral)f(good)h(and)
g(bad)g(terminals.)52 b(All)32 b(the)g(terminals)f(with)h(names)g(lik)o
(e)0 2707 y Fc(bad1)f Fe(are)h(incorrect)f(or)g(undesirable)f(for)h
(one)g(of)g(the)g(reasons)f(gi)n(v)o(en)g(abo)o(v)o(e,)h(and)g(those)f
(with)g(names)h(lik)o(e)0 2828 y Fc(good4)25 b Fe(are)g(acceptable.)585
4835 y @beginspecial 68 @llx 68 @lly 535 @urx 385 @ury
3276 @rwi @setspecial
%%BeginDocument: ../psfigures/tut7.2.ps
%!PS-Adobe-3.0 EPSF-3.0
%%Title: tut7.2.ps
%%Creator: Xcircuit v2.0
%%CreationDate: Fri Apr 14 13:50:28 2000
%%Pages: 1
%%BoundingBox: 68 68 535 385
%%DocumentNeededResources: font Helvetica font Times-Italic 
%%EndComments
%%BeginProlog
%
%  PostScript prolog for output from xcircuit
%  Version: 2.0
%
%  Electrical circuit (and otherwise general) drawing program
%
%  Written by Tim Edwards 8/5/93--2/25/99  (tim@bach.ece.jhu.edu)
%  The Johns Hopkins University
%
%%BeginResource: procset XCIRCproc 2.0 2
% supporting definitions --- these are the primary xcircuit types.

/XCIRCsave save def
/topmat matrix currentmatrix def

/fontslant { /slant exch def [1 0 slant 1 0 0] 
    exch findfont exch makefont dup length dict /ndict exch def
    { 1 index /FID ne { ndict 3 1 roll put } { pop pop } ifelse } forall
    ndict definefont pop} def
/cf { dup type /realtype eq {40 mul /fscale exch def} if dup /xfont exch def
   findfont fscale scalefont setfont } def
/Ss { gsave 0.67 dup scale gsave mty neg rmoveto
   glevel 1 add /glevel exch def } def
/ss { gsave 0.67 dup scale gsave mty 0.5 mul rmoveto
   glevel 1 add /glevel exch def } def
/ns { currentpoint transform   % preserve x position!
   glevel {grestore} repeat /glevel 0 def
   itransform pop currentpoint pop sub 0 rmoveto } def
/ul { showflag 1 eq { gsave 
   currentpoint topmat setmatrix 0 0 moveto 2 index stringwidth pop (_)
   false charpath flattenpath pathbbox grestore exch pop 1 index
   sub setlinewidth exch pop currentpoint 3 -1 roll add moveto 0
   rlineto stroke moveto } if } def
/ol { showflag 1 eq { gsave gsave
   currentpoint topmat setmatrix 2 index stringwidth pop 3 index
   true charpath flattenpath pathbbox grestore exch pop
   exch pop topmat setmatrix (_) true charpath pathbbox grestore
   exch pop 1 index sub setlinewidth exch pop currentpoint
   exch 4 1 roll exch sub add moveto pop 0 rlineto stroke
   moveto } if } def
/stW { gsave true charpath flattenpath pathbbox pop exch pop sub
   grestore } def
/bs { stW 0 rmoveto } def
/pspc 0 def
/qS { (aa) stW (a a) stW sub 4 div 0 rmoveto } def
/hS { qS qS } def
/textx { dup 1 add copy 0 exch { exch dup type /stringtype eq
	{stringwidth pop add}{exec} ifelse } repeat neg ns } def
/mty { 0 topmat setmatrix (A) true charpath flattenpath pathbbox exch
   pop exch sub exch pop neg grestore } def
/texty { gsave 2 copy pop exec mty } def
/tcenter { textx grestore 0.5 mul 0 rmoveto } def
/tright  { textx grestore fspc sub 0 rmoveto } def
/tmiddle { texty 0.5 mul rmoveto } def
/ttop    { texty fspc sub rmoveto } def
/tshow {{ dup type /stringtype eq {show}{exec} ifelse} repeat ns } def

/label  { gsave translate 0 0 moveto rotate /just exch def just 16 and 0 gt
	{0 1 dtransform gsave pagemat setmatrix idtransform exch grestore
	1 0 dtransform gsave pagemat setmatrix idtransform exch grestore
	dup 0 eq {pop mul 0 gt} {3 1 roll pop pop 0 lt} ifelse
	{-1 /just just dup 3 and 1 ne {3 xor} if def} {1} ifelse exch 0 lt
	{-1 /just just dup 12 and 4 ne {12 xor} if def} {1} ifelse scale } if
	/glevel 0 def /showflag 0 def /fspc pspc def
	just 1 and 0 gt {gsave just 2 and 0 gt {tright}{tcenter} ifelse}
	{fspc 0 rmoveto} ifelse
	just 4 and 0 gt {just 8 and 0 gt {ttop}{tmiddle} ifelse}
	{0 fspc rmoveto} ifelse
	/showflag 1 def tshow grestore } def
/pinlabel { hlevel 0 eq { /pspc 20 def label /pspc 0 def }
	{ pop pop pop pop {pop} repeat } ifelse } def
/pinglobal { pinlabel } def
/infolabel { pinlabel } def

/begingate { /hlevel hlevel 1 add def gsave translate 0 0 moveto dup 0 lt
	{neg 1 sub -1 1 scale} if rotate dup scale } bind def
/makeparm  {3 string cvs dup length 1 add string /tstr exch def tstr exch
	1 exch putinterval tstr 0 (v) putinterval tstr cvn} bind def
/beginparm { -1 1 {makeparm exch def} for
	dup type /arraytype eq { aload length -1 1 {makeparm exch def}
	for } if begingate } bind def
/endgate { /hlevel hlevel 1 sub def grestore } bind def

/hlevel 0 def
/tmpa [1 0 0 1 0 0] def
/gar {8 8 true tmpa {<c0 c0 00 00 0c 0c 00 00>} imagemask} bind
{8 8 true tmpa {<30 70 60 02 03 07 06 20>} imagemask} bind
{8 8 true tmpa {<0c 1e 1e 0c c0 e1 e1 c0>} imagemask} bind
{8 8 true tmpa {<0f 0f 0f 0f f0 f0 f0 f0>} imagemask} bind
{8 8 true tmpa {<3f f3 e1 e1 f3 3f 1e 1e>} imagemask} bind
{8 8 true tmpa {<df cf 8f 9f fd fc f8 f9>} imagemask} bind
{8 8 true tmpa {<ff 3f 3f ff ff f3 f3 ff>} imagemask} bind 7 array astore def
/ppaint { gsave clip tmpa dup setmatrix pathbbox neg exch neg 4 2 roll
  neg 4 -1 roll 2 copy gt {exch} if 8 div ceiling 8 mul 4 2 roll neg 2 copy
  gt {exch} if 8 div ceiling 8 mul 3 -1 roll -8 5 -1 roll
  { 3 index exch 5 exch put dup -8 3 index { 3 index
  exch 4 exch put 3 index exec } for } for pop pop pop pop grestore } bind def
/setstyles {
  currentlinewidth mul setlinewidth /style exch def
  style 1 and 0 gt not {closepath} if
  style 2 and 0 gt {currentlinewidth 4 mul dup 2 array astore 0 setdash} if 
  style 4 and 0 gt {0.5 currentlinewidth 4 mul 2 array astore 0 setdash} if 
  style dup 256 ge exch 480 lt and { gsave 1 setgray eofill grestore } if
  style 16 and 0 gt { gsave style 224 and -5 bitshift dup 7 lt
	{gar exch get ppaint} { pop eofill } ifelse grestore } if
  style 8 and 0 gt { newpath } { stroke } ifelse grestore } def
/scb { gsave setrgbcolor } bind def  /sce { grestore } bind def

/polygon { gsave /num exch def moveto num 1 sub {lineto} repeat setstyles } def
/xcarc   { gsave newpath arc setstyles } def
/elb { matrix currentmatrix 7 -1 roll 7 -1 roll translate 5 1 roll 4 -1 roll
	3 index div 1 scale } def
/ele { 0 4 1 roll 0 4 1 roll } bind def
/ellipse { gsave elb newpath ele arc setmatrix setstyles } def
/pellip  { elb ele arc setmatrix } def
/nellip  { elb ele arcn setmatrix } def
/spline  { gsave moveto curveto setstyles } def
/polyc   { {lineto} repeat } bind def
/beginpath { gsave moveto } bind def
/endpath { setstyles } bind def
/bop	 { 1 setlinecap 0 setlinejoin 6 setmiterlimit 0 setgray } def
/insertion {/PSobj save def /showpage {} def bop translate} def
/end_insert {PSobj restore} def
/setpagemat {/pagemat matrix currentmatrix def} def
/inchscale  {setpagemat 0.375 mul dup scale} def
/cmscale    {setpagemat 0.35433071 mul dup scale} def

%%EndResource
%%EndProlog

% XCircuit output starts here.

/arrowhead {
% -12 -32 24 36 bbox
begingate
8 -28 beginpath
3 -18 3 -15 0 0 curveto
-3 -15 -3 -18 -8 -28 curveto
-2 -26 2 -26 8 -28 curveto
249  1.00 endpath
endgate
} def

/arrowhead90 {
% -20 -12 36 24 bbox
begingate
1.00 90 -16 0 arrowhead
endgate
} def

%%Page: 1 1
%%PageOrientation: Portrait
/pgsave save def bop
% 1117 536 offsets
% 32.00 8.00 gridspace
1.0000 inchscale
2.6000 setlinewidth

0.545 0.137 0.137 scb
240  1.00 317 192 317 1016 1149 1016 1149 192 4 polygon
sce
0.804 0.000 0.804 scb
240  1.00 333 208 333 968 1133 968 1133 208 4 polygon
sce
1.000 0.647 0.000 scb
240  1.00 749 640 749 704 973 704 973 640 4 polygon
sce
0.898 0.898 0.898 scb
240  1.00 493 648 493 792 637 792 637 648 4 polygon
sce
0.824 0.706 0.549 scb
240  1.00 493 808 493 872 973 872 973 808 4 polygon
240  1.00 749 728 749 792 845 792 845 728 4 polygon
240  1.00 877 728 877 792 973 792 973 728 4 polygon
sce
0.753 1.000 0.753 scb
240  1.00 493 480 493 544 973 544 973 480 4 polygon
sce
0.490 0.651 0.980 scb
240  1.00 749 400 749 464 973 464 973 400 4 polygon
sce
1.000 0.502 0.502 scb
240  1.00 749 320 749 384 973 384 973 320 4 polygon
sce
1.000 1.000 0.753 scb
240  1.00 749 240 749 304 973 304 973 240 4 polygon
sce
0.800 0.800 0.800 scb
240  1.00 493 240 493 304 717 304 717 240 4 polygon
sce
1.000 0.753 0.753 scb
240  1.00 493 320 493 384 717 384 717 320 4 polygon
sce
0.753 1.000 1.000 scb
240  1.00 493 400 493 464 717 464 717 400 4 polygon
sce
1.000 1.000 1.000 scb
(NETLIST MENU) {/Helvetica 0.800 cf} 2 25 0 733 984 label
(Label) {/Helvetica 1.000 cf} 2 25 0 733 904 label
sce
(BusBit13) {/Helvetica 1.000 cf} 2 21 0 733 840 label
0  1.00 317 192 317 1016 1149 1016 1149 192 4 polygon
0  1.00 333 208 333 968 1133 968 1133 208 4 polygon
0  1.00 493 808 493 872 973 872 973 808 4 polygon
0  1.00 877 728 877 792 973 792 973 728 4 polygon
0  1.00 749 728 749 792 845 792 845 728 4 polygon
0  1.00 749 640 749 704 973 704 973 640 4 polygon
0  1.00 493 480 493 544 973 544 973 480 4 polygon
1.000 1.000 1.000 scb
(Netlist) {/Helvetica 1.000 cf} 2 25 0 733 584 label
sce
(Find) {/Helvetica 1.000 cf} 2 21 0 853 672 label
(13) {/Helvetica 1.000 cf} 2 21 0 797 760 label
0  1.00 493 648 493 792 637 792 637 648 4 polygon
1  1.00 541 648 541 792 2 polygon
1  1.00 589 792 589 648 2 polygon
1  1.00 493 744 637 744 2 polygon
1  1.00 493 696 637 696 2 polygon
1  1.00 557 720 573 720 2 polygon
1  1.00 565 728 565 712 2 polygon
(Placer) {/Times-Italic 1.000 cf} 2 23 0 293 728 label
(Current Netlist) {/Times-Italic 1.000 cf} 2 20 0 1165 512 label
(Pumps) {/Times-Italic 1.000 cf} 2 20 0 1165 760 label
(Current Text) {/Times-Italic 1.000 cf} 2 20 0 1165 840 label
0  1.00 493 400 493 464 717 464 717 400 4 polygon
0  1.00 749 400 749 464 973 464 973 400 4 polygon
0  1.00 493 320 493 384 717 384 717 320 4 polygon
0  1.00 749 320 749 384 973 384 973 320 4 polygon
0  1.00 493 240 493 304 717 304 717 240 4 polygon
0  1.00 749 240 749 304 973 304 973 240 4 polygon
(Print) {/Helvetica 1.000 cf} 2 21 0 861 432 label
(Cleanup) {/Helvetica 1.000 cf} 2 21 0 861 352 label
(Show) {/Helvetica 1.000 cf} 2 21 0 861 272 label
(No Net) {/Helvetica 1.000 cf} 2 21 0 605 272 label
(Terms) {/Helvetica 1.000 cf} 2 21 0 605 352 label
(Verify) {/Helvetica 1.000 cf} 2 21 0 605 432 label
1.00 0 989 840 arrowhead90
1.00 0 989 760 arrowhead90
1.00 0 989 512 arrowhead90
1.00 -1 477 720 arrowhead90
1  1.00 989 840 1165 840 2 polygon
1  1.00 989 760 1165 760 2 polygon
1  1.00 989 512 1165 512 2 polygon
1  1.00 469 720 301 720 2 polygon
pgsave restore showpage

%%Trailer
XCIRCsave restore
%%EOF

%%EndDocument
 @endspecial 1406 5039 a(Figure)g(2:)30 b(The)25 b(netlist)f(menu.)146
5400 y(If)40 b(you)f(create)i(tw)o(o)e(or)g(more)g(terminal)g(labels)g
(with)g(the)g(same)g(name)h(in)f(the)g(same)g(cell)h(the)f(router)1875
5649 y(\2263\226)p eop
%%Page: 4 4
4 3 bop 0 -180 a Fe(April)24 b(12,)h(2006)1717 b(Magic)24
b(T)l(utorial)g(#7:)30 b(Netlists)23 b(and)i(Routing)p
457 3 2986 4 v 455 124 4 121 v 507 88 a(Button)p 1150
124 V 423 w(Action)p 3441 124 V 457 127 2986 4 v 455
247 4 121 v 507 211 a(Current)g(T)-7 b(e)o(xt)p 1150
247 V 191 w(Left-click:)30 b(prompt)24 b(for)h(more)g(labels)p
3441 247 V 455 368 V 1150 368 V 1202 332 a(Right-click:)30
b(adv)n(ance)24 b(to)h(ne)o(xt)f(label)p 3441 368 V 457
371 2986 4 v 455 491 4 121 v 507 455 a(Placer)p 1150
491 V 447 w(Left-click:)30 b(place)25 b(label)p 3441
491 V 455 612 V 1150 612 V 1202 576 a(Right-click:)30
b(change)25 b(label)f(te)o(xt)g(position)p 3441 612 V
457 615 2986 4 v 455 736 4 121 v 507 699 a(Pumps)p 1150
736 V 423 w(Left-click:)30 b(decrement)25 b(number)p
3441 736 V 455 856 V 1150 856 V 1202 820 a(Right-click:)30
b(increment)24 b(number)p 3441 856 V 457 859 2986 4 v
455 980 4 121 v 507 944 a(Find)p 1150 980 V 512 w(Search)i(under)e
(box,)h(highlight)d(labels)p 3441 980 V 455 1100 V 1150
1100 V 1202 1064 a(matching)h(current)i(te)o(xt)p 3441
1100 V 457 1103 2986 4 v 455 1224 4 121 v 507 1188 a(Current)g(Netlist)
p 1150 1224 V 99 w(Left-click:)30 b(prompt)24 b(for)h(ne)n(w)f(netlist)
g(name)p 3441 1224 V 455 1344 V 1150 1344 V 1202 1308
a(Right-click:)30 b(use)24 b(edit)h(cell)f(name)h(as)g(netlist)e(name)p
3441 1344 V 457 1347 2986 4 v 455 1468 4 121 v 507 1432
a(V)-11 b(erify)p 1150 1468 V 446 w(Check)25 b(that)g(wiring)f(matches)
g(netlist)f(\(same)i(as)p 3441 1468 V 455 1588 V 1150
1588 V 1202 1552 a(typing)e Fc(:v)o(erify)i Fe(command\))p
3441 1588 V 457 1592 2986 4 v 455 1712 4 121 v 507 1676
a(Print)p 1150 1712 V 501 w(Print)f(names)h(of)g(all)f(terminals)g(in)g
(selected)h(net)p 3441 1712 V 455 1832 V 1150 1832 V
1202 1796 a(\(same)g(as)f(typing)g Fc(:print)i Fe(command\))p
3441 1832 V 457 1836 2986 4 v 455 1956 4 121 v 507 1920
a(T)-7 b(erms)p 1150 1956 V 447 w(Place)25 b(feedback)h(areas)f(on)g
(screen)g(to)g(identify)f(all)g(terminals)p 3441 1956
V 455 2076 V 1150 2076 V 1202 2040 a(in)g(current)h(netlist)f(\(same)g
(as)h Fc(:sho)o(wterms)h Fe(command\))p 3441 2076 V 457
2080 2986 4 v 455 2200 4 121 v 507 2164 a(Cleanup)p 1150
2200 V 363 w(Check)f(current)g(netlist)f(for)h(missing)e(labels)h(and)h
(nets)p 3441 2200 V 455 2320 V 1150 2320 V 1202 2284
a(with)f(less)g(than)h(tw)o(o)f(terminals)g(\(same)g(as)h(typing)p
3441 2320 V 457 2324 2986 4 v 455 2444 4 121 v 1150 2444
V 1202 2408 a Fc(:cleanup)h Fe(command\))p 3441 2444
V 455 2565 V 507 2528 a(No)f(Net)p 1150 2565 V 404 w(Delete)g(selected)
f(net)h(\(same)g(as)g Fc(:dnet)h Fe(command\))p 3441
2565 V 457 2568 2986 4 v 455 2688 4 121 v 507 2652 a(Sho)n(w)p
1150 2688 V 470 w(Highlight)d(paint)h(connected)h(to)f(material)g
(under)h(box)p 3441 2688 V 455 2809 V 1150 2809 V 1202
2773 a(\(same)g(as)f(typing)g Fc(:sho)o(wnet)i Fe(command\))p
3441 2809 V 457 2812 2986 4 v 788 2971 a(T)-8 b(able)25
b(1:)31 b(A)24 b(summary)g(of)h(all)g(the)f(netlist)g(menu)g(b)n(utton)
f(actions.)0 3328 y(will)29 b(assume)g(that)g(the)o(y)f(are)j
(electrically)e(equi)n(v)n(alent)f(\(connected)h(together)h(within)e
(the)h(cell\).)45 b(Because)31 b(of)0 3448 y(this,)k(when)f(routing)f
(the)g(net)h(it)g(will)f(feel)h(free)h(to)e(connect)h(to)g(whiche)n(v)o
(er)e(one)i(of)g(the)g(terminals)f(is)g(most)0 3568 y(con)l(v)o
(enient,)k(and)e(ignore)g(the)h(others.)62 b(In)36 b(some)f(cases)g
(the)h(router)f(may)g(tak)o(e)h(adv)n(antage)f(of)g(electrically)0
3689 y(equi)n(v)n(alent)17 b(terminals)i(by)g(using)f
Ff(feed)h(thr)l(oughs)p Fe(:)26 b(entering)19 b(a)g(cell)h(at)f(one)g
(terminal)g(to)g(mak)o(e)g(one)g(connection,)0 3809 y(and)32
b(e)o(xiting)e(through)h(an)g(equi)n(v)n(alent)f(terminal)h(on)h(the)f
(w)o(ay)h(to)f(mak)o(e)h(another)g(connection)f(for)h(the)f(same)0
3929 y(net.)0 4267 y Fg(3)143 b(Menu)36 b(f)l(or)f(Label)g(Editing)0
4491 y Fe(Magic)25 b(pro)o(vides)e(a)i(special)g(menu)f(f)o(acility)g
(to)h(assist)f(you)g(in)h(placing)f(terminal)g(labels)g(and)h(editing)f
(netlists.)0 4611 y(T)-8 b(o)25 b(mak)o(e)f(the)h(menu)f(appear)l(,)i
(in)l(v)n(ok)o(e)e(the)g(Magic)h(command)900 4825 y Fc(:specialopen)h
(netlist)146 5039 y Fe(A)c(ne)n(w)f(windo)n(w)g(will)g(appear)h(in)f
(the)h(lo)n(wer)n(-left)f(corner)h(of)g(the)g(screen,)g(containing)f
(se)n(v)o(eral)g(rectangular)0 5159 y(areas)32 b(on)g(a)g(purple)f
(background.)51 b(Each)32 b(of)f(the)h(rectangular)g(areas)g(is)f
(called)h(a)g Ff(b)n(utton)p Fe(.)50 b(Clicking)31 b(mouse)0
5280 y(b)n(uttons)23 b(inside)g(the)i(menu)f(b)n(uttons)e(will)i(in)l
(v)n(ok)o(e)g(v)n(arious)f(commands)g(to)h(edit)g(labels)g(and)h
(netlists.)k(Figure)24 b(2)0 5400 y(sho)n(ws)19 b(a)h(diagram)f(of)h
(the)g(netlist)f(menu)g(and)h(T)-8 b(able)20 b(I)g(summarizes)f(the)h
(meaning)f(of)h(b)n(utton)e(clicks)i(in)f(v)n(arious)1875
5649 y(\2264\226)p eop
%%Page: 5 5
5 4 bop 0 -180 a Fe(Magic)24 b(T)l(utorial)g(#7:)30 b(Netlists)23
b(and)i(Routing)1717 b(April)24 b(12,)h(2006)0 68 y(menu)k(items.)42
b(The)30 b(netlist)e(menu)g(can)i(be)f(gro)n(wn,)g(shrunk,)h(and)f(mo)o
(v)o(ed)e(just)i(lik)o(e)f(an)o(y)h(other)g(windo)n(w;)h(see)0
188 y(\223Magic)e(T)l(utorial)g(#5:)38 b(Multiple)26
b(W)l(indo)n(ws\224)i(for)h(details.)41 b(It)29 b(also)f(has)g(its)g(o)
n(wn)g(pri)n(v)n(ate)f(set)i(of)f(commands.)0 309 y(T)-8
b(o)25 b(see)g(what)f(commands)g(you)g(can)h(type)g(in)f(the)h(netlist)
e(menu,)i(mo)o(v)o(e)e(the)i(cursor)f(o)o(v)o(er)g(the)h(menu)f(and)h
(type)900 561 y Fc(:help)146 810 y Fe(Y)-11 b(ou)28 b(shouldn')n(t)e
(need)i(to)f(type)g(commands)f(in)h(the)h(netlist)e(menu)h(v)o(ery)g
(often,)h(since)g(almost)e(e)n(v)o(erything)0 931 y(you')o(ll)33
b(need)i(to)f(do)g(can)h(be)f(done)g(using)f(the)i(menu.)58
b(See)36 b(Section)e(9)g(for)h(a)f(description)g(of)g(a)h(fe)n(w)f(of)g
(the)0 1051 y(commands)29 b(you)g(can)i(type;)h(the)d(complete)h(set)g
(is)f(described)h(in)g(the)f(manual)h(page)g Ff(ma)o(gic\(1\))p
Fe(.)46 b(One)30 b(of)g(the)0 1172 y(best)24 b(uses)g(for)g(the)h
(commands)e(is)h(so)g(that)f(you)h(can)h(de\002ne)g(macros)f(for)h
(them)e(and)i(a)n(v)n(oid)e(ha)n(ving)h(to)g(go)g(back)0
1292 y(and)32 b(forth)f(to)h(the)g(menu;)i(look)d(up)h(the)f
Fc(:send)i Fe(command)e(in)g(the)h(man)g(page)g(to)f(see)h(ho)n(w)f(to)
h(do)f(this.)51 b(The)0 1412 y(top)29 b(half)h(of)g(the)g(menu)f(is)g
(for)h(placing)g(labels)f(and)h(the)f(bottom)g(half)g(is)h(for)g
(editing)f(netlists.)44 b(This)29 b(section)0 1533 y(describes)c(the)f
(label)h(f)o(acilities,)f(and)h(Section)f(4)h(describes)g(the)f
(netlist)g(f)o(acilities.)146 1656 y(The)j(label)f(menu)h(mak)o(es)f
(it)g(easy)h(for)g(you)f(to)g(enter)h(lots)f(of)h(labels,)f
(particularly)g(when)h(there)g(are)g(man)o(y)0 1777 y(labels)i(that)g
(are)h(the)f(same)g(e)o(xcept)g(for)g(a)h(number)l(,)f(e.g.)45
b Fc(b)n(us1)p Fe(,)30 b Fc(b)n(us2)p Fe(,)h Fc(b)n(us3)p
Fe(,)g(etc.)44 b(There)30 b(are)g(four)f(sections)0 1897
y(to)h(the)f(label)h(menu:)41 b(the)29 b(current)i(te)o(xt,)f(the)g
(placer)l(,)i(tw)o(o)d(pumps,)h(and)g(the)g Fc(Find)g
Fe(b)n(utton.)46 b(T)-8 b(o)29 b(place)i(labels,)0 2017
y(\002rst)f(click)g(the)g(left)g(mouse)f(b)n(utton)g(o)o(v)o(er)g(the)h
(current)g(te)o(xt)f(rectangle.)46 b(Then)30 b(type)g(one)g(or)g(more)g
(labels)f(on)0 2138 y(the)23 b(k)o(e)o(yboard,)f(one)h(per)g(line.)29
b(Y)-11 b(ou)23 b(can)g(use)f(this)g(mechanism)g(to)g(enter)h(se)n(v)o
(eral)f(labels)h(at)f(once.)30 b(T)-8 b(ype)23 b(return)0
2258 y(twice)k(to)f(signal)g(the)g(end)h(of)g(the)f(list.)36
b(At)26 b(this)g(point,)g(the)h(\002rst)g(of)f(the)h(labels)f(you)h
(typed)f(will)g(appear)h(in)f(the)0 2378 y(current)f(te)o(xt)f
(rectangle.)146 2502 y(T)-8 b(o)33 b(place)h(a)g(label,)h(position)c
(the)j(box)e(o)o(v)o(er)h(the)g(area)h(you)f(w)o(ant)g(to)g(label,)i
(then)e(click)g(the)h(left)f(mouse)0 2622 y(b)n(utton)c(inside)h(one)g
(of)h(the)f(squares)g(of)h(the)f(placer)h(area.)49 b(A)30
b(label)g(will)g(be)g(created)i(with)d(the)h(current)h(te)o(xt.)0
2743 y(Where)25 b(you)f(click)h(in)f(the)g(placer)h(determines)f(where)
h(the)g(label)f(te)o(xt)g(will)f(appear)i(relati)n(v)o(e)f(to)g(the)h
(label)f(box:)0 2863 y(for)f(e)o(xample,)g(clicking)f(the)h
(left-center)g(square)g(causes)h(the)f(te)o(xt)f(to)g(be)h(centered)h
(just)e(to)h(the)g(left)g(of)g(the)g(box.)0 2983 y(Y)-11
b(ou)22 b(can)h(place)f(man)o(y)g(copies)g(of)g(the)g(same)g(label)g
(by)g(mo)o(ving)f(the)h(box)g(and)g(clicking)g(the)g(placer)h(area)g
(again.)0 3104 y(Y)-11 b(ou)26 b(can)i(re-orient)e(the)h(te)o(xt)f(of)h
(a)g(label)f(by)h(clicking)f(the)g(right)g(mouse)g(b)n(utton)g(inside)g
(the)g(placer)i(area.)37 b(F)o(or)0 3224 y(e)o(xample,)25
b(if)g(you)h(w)o(ould)e(lik)o(e)i(to)f(mo)o(v)o(e)f(a)i(label')-5
b(s)25 b(te)o(xt)f(so)i(that)f(it)g(appears)h(centered)g(abo)o(v)o(e)f
(the)g(label,)h(place)0 3344 y(the)f(box)f(o)o(v)o(er)g(the)h(label)f
(and)h(right-click)f(the)h(top-center)f(placer)i(square.)146
3468 y(If)k(you)f(entered)h(se)n(v)o(eral)f(labels)g(at)h(once,)h(only)
d(the)i(\002rst)g(appears)f(in)h(the)f(current)h(te)o(xt)e(area.)46
b(Ho)n(we)n(v)o(er)l(,)0 3588 y(you)23 b(can)g(adv)n(ance)g(to)g(the)f
(ne)o(xt)h(label)f(by)h(right-clicking)f(inside)g(the)h(current)g(te)o
(xt)f(area.)31 b(In)23 b(this)f(w)o(ay)h(you)g(can)0
3709 y(place)32 b(a)f(long)g(series)g(of)g(labels)g(entirely)g(with)f
(the)i(mouse.)49 b(T)m(ry)31 b(using)f(this)g(mechanism)h(to)f(add)i
(labels)e(to)0 3829 y Fc(tut7a)p Fe(.)146 3952 y(The)20
b(tw)o(o)g(small)f(b)n(uttons)f(underneath)i(the)f(right)h(side)f(of)h
(the)g(current)g(te)o(xt)f(area)i(are)f(called)g(pumps.)28
b(T)-8 b(o)20 b(see)0 4073 y(ho)n(w)30 b(these)h(w)o(ork,)h(enter)g(a)f
(label)g(name)g(containing)e(a)j(number)e(into)g(the)h(current)g(te)o
(xt)f(area,)k(for)d(e)o(xample,)0 4193 y Fc(b)n(us1)p
Fe(.)54 b(When)33 b(you)f(do)g(this,)i(the)e(\2231\224)h(appears)g(in)f
(the)h(left)f(pump.)53 b(Right-clicking)32 b(the)g(pump)g(causes)g(the)
0 4314 y(number)d(to)f(increment,)i(and)f(left-clicking)g(the)g(pump)f
(causes)h(the)g(number)g(to)g(decrement.)43 b(This)29
b(mak)o(es)g(it)0 4434 y(easy)34 b(for)h(you)f(to)g(enter)g(a)h(series)
f(of)g(numbered)g(signal)g(names.)58 b(If)35 b(a)g(name)f(has)g(tw)o(o)
g(numbers)f(in)h(it,)i(the)0 4554 y(second)22 b(number)f(will)g(appear)
i(in)f(the)f(second)h(pump,)g(and)g(it)f(can)i(be)f(incremented)f(or)h
(decremented)g(too.)30 b(T)m(ry)0 4675 y(using)24 b(the)g(pumps)g(to)g
(place)i(a)f(series)f(of)h(numbered)g(names.)146 4798
y(The)h(last)g(entry)g(in)g(the)f(label)h(portion)f(of)h(the)g(menu)g
(is)g(the)f Fc(Find)i Fe(b)n(utton.)33 b(This)26 b(can)g(be)g(used)g
(to)g(locate)g(a)0 4918 y(label)e(by)g(searching)g(for)g(a)h(gi)n(v)o
(en)d(pattern.)31 b(If)24 b(you)g(click)g(the)g Fc(Find)h
Fe(b)n(utton,)d(Magic)i(will)g(use)g(the)g(current)g(te)o(xt)0
5039 y(as)30 b(a)h(pattern)f(and)g(search)h(the)f(area)i(underneath)e
(the)g(box)g(for)g(a)h(label)f(whose)g(name)g(contains)f(the)h
(pattern.)0 5159 y(P)o(attern-matching)24 b(is)g(done)h(in)f(the)h
(same)f(w)o(ay)h(as)g(in)f Ff(csh)p Fe(,)h(using)f(the)h(special)f
(characters)i(\223*\224,)f(\223?\224,)g(\223)0 5280 y(\224,)e
(\223[\224,)h(and)e(\223]\224.)31 b(T)m(ry)22 b(this)g(on)g
Fc(tut7a)p Fe(:)30 b(enter)23 b(\223good*\224)f(into)g(the)g(current)h
(te)o(xt)f(area,)h(place)g(the)g(box)f(around)g(the)0
5400 y(whole)29 b(cell,)i(then)e(click)h(on)f(the)g(\223Find\224)h(b)n
(utton.)44 b(F)o(or)30 b(each)g(of)g(the)f(good)g(labels,)h(a)g
(feedback)h(area)f(will)f(be)1875 5649 y(\2265\226)p
eop
%%Page: 6 6
6 5 bop 0 -180 a Fe(April)24 b(12,)h(2006)1717 b(Magic)24
b(T)l(utorial)g(#7:)30 b(Netlists)23 b(and)i(Routing)0
69 y(created)h(with)f(white)h(stripes)f(to)g(highlight)f(the)h(area.)35
b(The)26 b Fc(:feedback)i(\002nd)f Fe(command)e(can)h(be)g(used)f(to)h
(step)0 189 y(through)h(the)h(areas,)i(and)e Fc(:feedback)i(clear)f
Fe(will)e(erase)i(the)f(feedback)g(information)f(from)h(the)g(screen.)
41 b(The)0 309 y Fc(:feedback)26 b Fe(command)d(has)g(man)o(y)g(of)h
(the)g(same)f(options)f(as)i Fc(:dr)n(c)h Fe(for)f(getting)f
(information)f(about)h(feedback)0 430 y(areas;)h(see)g(the)g(Magic)f
(manual)g(page)h(for)f(details,)g(or)h(type)f Fc(:feedback)j(help)e
Fe(for)g(a)g(synopsis)e(of)h(the)h(options.)0 782 y Fg(4)143
b(Netlist)34 b(Editing)0 1010 y Fe(After)j(placing)f(terminal)f
(labels,)k(the)d(ne)o(xt)g(step)g(is)g(to)g(specify)g(the)g
(connections)f(between)i(them;)k(this)36 b(is)0 1130
y(called)22 b(netlist)f(editing.)28 b(The)22 b(bottom)f(half)h(of)g
(the)g(netlist)e(menu)i(is)f(used)h(for)g(editing)f(netlists.)28
b(The)22 b(\002rst)g(thing)0 1251 y(you)h(must)g(do)g(is)g(to)g
(specify)h(the)f(netlist)f(you)h(w)o(ant)h(to)f(edit.)30
b(Do)23 b(this)g(by)g(clicking)g(in)g(the)h(current)f(netlist)g(box.)0
1371 y(If)g(you)g(left-click,)g(Magic)f(will)g(prompt)g(you)g(for)h
(the)g(netlist)f(name)g(and)h(you)g(can)g(type)f(it)h(at)g(the)f(k)o(e)
o(yboard.)30 b(If)0 1491 y(you)24 b(right-click,)g(Magic)h(will)f(use)h
(the)f(name)h(of)g(the)g(edit)f(cell)h(as)g(the)g(current)g(netlist)e
(name.)31 b(In)25 b(either)g(case,)0 1612 y(Magic)f(will)g(read)h(the)g
(netlist)e(from)h(disk)g(if)h(it)f(e)o(xists)f(and)h(will)g(create)i(a)
e(ne)n(w)h(netlist)e(if)h(there)h(isn')n(t)f(currently)0
1732 y(a)j(netlist)f(\002le)h(with)f(the)g(gi)n(v)o(en)f(name.)37
b(Netlist)25 b(\002les)i(are)h(stored)e(on)h(disk)f(with)g(a)h
(\223.net\224)g(e)o(xtension,)e(which)i(is)0 1853 y(added)g(by)g(Magic)
g(when)h(it)e(reads)i(and)f(writes)g(\002les.)39 b(Y)-11
b(ou)27 b(can)g(change)h(the)f(current)h(netlist)e(by)h(clicking)f(the)
0 1973 y(current)32 b(netlist)f(b)n(utton)g(again.)52
b(Startup)32 b(Magic)g(on)g(the)g(cell)g Fc(tut7b)p Fe(,)j(open)d(the)g
(netlist)f(menu,)i(and)f(set)g(the)0 2093 y(current)25
b(netlist)f(to)g Fc(tut7b)p Fe(.)32 b(Then)24 b(e)o(xpand)g(the)h
(subcells)f(in)g Fc(tut7b)i Fe(so)f(that)f(you)g(can)i(see)f(their)f
(terminals.)p 849 2243 2203 4 v 847 2363 4 121 v 899
2327 a(Button)p 1234 2363 V 115 w(Action)p 3050 2363
V 849 2366 2203 4 v 847 2487 4 121 v 899 2451 a(Left)p
1234 2487 V 221 w(Select)h(net,)g(using)f(nearest)h(terminal)f(to)g
(cursor)-5 b(.)p 3050 2487 V 849 2490 2203 4 v 847 2610
4 121 v 899 2574 a(Right)p 1234 2610 V 165 w(T)d(oggle)24
b(nearest)h(terminal)f(into)g(or)h(out)f(of)p 3050 2610
V 847 2731 V 1234 2731 V 1286 2695 a(current)h(net.)p
3050 2731 V 849 2734 2203 4 v 847 2854 4 121 v 899 2818
a(Middle)p 1234 2854 V 98 w(Find)g(nearest)g(terminal,)e(join)h(its)g
(net)h(with)f(the)p 3050 2854 V 847 2975 V 1234 2975
V 1286 2939 a(current)h(net.)p 3050 2975 V 849 2978 2203
4 v 465 3137 a(T)-8 b(able)24 b(2:)31 b(The)25 b(actions)f(of)h(the)f
(mouse)g(b)n(uttons)g(when)g(the)h(terminal)f(tool)g(is)g(in)h(use.)146
3470 y(Netlist)d(editing)h(is)g(done)g(with)f(the)h(netlist)f(tool.)30
b(If)24 b(you)e(ha)n(v)o(en')n(t)h(already)h(read)g(\223T)l(utorial)e
(#3:)30 b(Adv)n(anced)0 3590 y(P)o(ainting)37 b(\(W)l(iring)h(and)g
(Plo)n(wing\)\224,)j(you)d(should)f(read)i(it)f(no)n(w)-6
b(,)40 b(up)f(through)e(Section)h(2.1.)71 b(T)l(utorial)37
b(#3)0 3711 y(e)o(xplained)22 b(ho)n(w)f(to)h(change)h(the)g(current)f
(tool)g(by)g(using)g(the)g(space)h(macro)g(or)g(by)f(typing)f
Fc(:tool)p Fe(.)30 b(Switch)22 b(tools)0 3831 y(to)i(the)h(netlist)f
(tool)f(\(the)i(cursor)g(will)f(appear)h(as)g(a)h(thick)e(square\).)146
3953 y(When)h(the)g(netlist)f(tool)g(is)g(in)h(use)f(the)h(left,)g
(right,)f(and)h(middle)f(b)n(uttons)f(in)l(v)n(ok)o(e)h(select,)h
(toggle,)f(and)h(join)0 4074 y(operations)32 b(respecti)n(v)o(ely)e
(\(see)j(T)-8 b(able)33 b(II\).)g(T)-8 b(o)32 b(see)h(ho)n(w)e(the)o(y)
h(w)o(ork,)i(mo)o(v)o(e)d(the)h(cursor)g(o)o(v)o(er)g(the)g(terminal)0
4194 y Fc(right4)c Fe(in)f(the)g(top)g(subcell)g(of)g
Fc(tut7b)i Fe(and)e(click)h(the)f(left)g(mouse)g(b)n(utton)f(\(you)i
(may)f(ha)n(v)o(e)g(to)g(zoom)g(in)g(a)h(bit)0 4315 y(to)j(see)h(the)f
(labels;)k(terminals)30 b(are)i(numbered)g(in)f(clockwise)g(order:)44
b Fc(right4)32 b Fe(is)f(the)g(fourth)h(terminal)e(from)0
4435 y(the)23 b(top)g(on)h(the)f(right)g(side\).)30 b(This)23
b(causes)h(the)f(net)g(containing)g(that)g(terminal)g(to)g(be)g
(selected.)31 b(Three)24 b(hollo)n(w)0 4555 y(white)34
b(squares)h(will)f(appear)h(o)o(v)o(er)f(the)g(layout,)j(marking)c(the)
i(terminals)f(that)g(are)h(supposed)f(to)g(be)h(wired)0
4676 y(together)30 b(into)f Fc(right4)p Fe(')-5 b(s)31
b(net.)47 b(Left-click)30 b(o)o(v)o(er)g(the)g Fc(left3)h
Fe(terminal)e(in)h(the)g(same)h(subcell)e(to)h(select)h(its)e(net,)0
4796 y(then)24 b(select)h(the)g Fc(right4)g Fe(net)g(again.)146
4918 y(The)d(right)g(b)n(utton)f(is)g(used)h(to)g(toggle)f(terminals)g
(into)h(or)g(out)f(of)h(the)g(current)h(net.)29 b(If)23
b(you)f(right-click)f(o)o(v)o(er)0 5039 y(a)26 b(terminal)e(that)h(is)g
(in)g(the)g(current)h(net,)f(then)g(it)g(is)g(remo)o(v)o(ed)f(from)h
(the)h(current)f(net.)33 b(If)25 b(you)g(right-click)g(o)o(v)o(er)0
5159 y(a)h(terminal)g(that)f(isn')n(t)h(in)f(the)h(current)g(net,)h(it)
e(is)h(added)g(to)f(the)h(current)h(net.)34 b(A)26 b(single)f(terminal)
g(can)i(only)e(be)0 5280 y(in)31 b(one)g(net)g(at)h(a)f(time,)i(so)e
(if)g(a)g(terminal)g(is)g(already)g(in)g(a)h(net)f(when)g(you)g(toggle)
g(it)g(into)f(another)h(net)g(then)0 5400 y(Magic)h(will)f(remo)o(v)o
(e)g(it)g(from)h(the)g(old)g(net.)52 b(T)-8 b(oggle)31
b(the)h(terminal)g Fc(top4)g Fe(in)g(the)g(bottom)e(cell)i(out)g(of,)h
(then)1875 5649 y(\2266\226)p eop
%%Page: 7 7
7 6 bop 0 -180 a Fe(Magic)24 b(T)l(utorial)g(#7:)30 b(Netlists)23
b(and)i(Routing)1717 b(April)24 b(12,)h(2006)0 69 y(back)d(into,)g(the)
g(net)f(containing)g Fc(right4)p Fe(.)30 b(No)n(w)21
b(toggle)h Fc(left3)g Fe(in)f(the)h(bottom)f(cell)h(into)f(this)g(net.)
29 b(Magic)22 b(w)o(arns)0 189 y(you)29 b(because)i(it)e(had)h(to)f
(remo)o(v)o(e)g Fc(left3)h Fe(from)g(another)g(net)f(in)h(order)g(to)f
(add)h(it)g(to)f Fc(right4)p Fe(')-5 b(s)30 b(net.)45
b(T)-8 b(ype)30 b Fc(u)g Fe(to)0 309 y(undo)23 b(this)f(change,)i(then)
f(left-click)g(on)g Fc(left3)g Fe(to)g(mak)o(e)g(sure)h(it)f(got)f
(restored)i(to)f(its)f(old)h(net)g(by)g(the)g(undo.)30
b(All)0 430 y(of)25 b(the)g(netlist-editing)d(operations)i(are)h
(undo-able.)146 550 y(The)i(middle)f(b)n(utton)g(is)h(used)g(to)f(mer)n
(ge)i(tw)o(o)f(nets)f(together)-5 b(.)37 b(If)27 b(you)g(middle-click)f
(o)o(v)o(er)g(a)i(terminal,)e(all)0 671 y(the)h(terminals)g(in)g(its)f
(net)i(are)g(added)f(to)g(the)h(current)f(net.)39 b(Play)27
b(around)h(with)e(the)i(three)f(b)n(uttons)f(to)h(edit)g(the)0
791 y(netlist)c Fc(tut7b)p Fe(.)146 911 y(Note:)46 b(the)33
b(router)f(does)g(not)g(mak)o(e)h(connections)f(to)g(terminals)f(in)h
(the)h(top)f(le)n(v)o(el)f(cell.)54 b(It)33 b(only)f(w)o(orks)0
1032 y(with)27 b(terminals)g(in)h(subcells,)f(or)h(sub-subcells,)g
(etc.)40 b(Because)29 b(of)f(this,)g(the)g(netlist)e(editor)i(does)f
(not)h(permit)0 1152 y(you)c(to)h(select)f(terminals)g(in)h(the)f(top)g
(le)n(v)o(el)g(cell.)31 b(If)25 b(you)f(click)h(o)o(v)o(er)f(such)g(a)h
(terminal)f(Magic)h(prints)e(an)i(error)0 1272 y(message)f(and)h
(refuses)g(to)g(mak)o(e)f(the)h(selection.)146 1393 y(If)33
b(you)g(left-click)f(o)o(v)o(er)g(a)h(terminal)f(that)g(is)g(not)g
(currently)g(in)h(a)g(net,)h(Magic)e(creates)i(a)f(ne)n(w)f(net)g
(auto-)0 1513 y(matically)-6 b(.)42 b(If)29 b(you)g(didn')n(t)f(really)
h(w)o(ant)g(to)g(mak)o(e)g(a)g(ne)n(w)g(net,)h(you)e(ha)n(v)o(e)h(se)n
(v)o(eral)f(choices.)44 b(Either)28 b(you)h(can)0 1634
y(toggle)e(the)h(terminal)f(out)g(of)h(its)f(o)n(wn)g(net,)h(you)g(can)
g(undo)f(the)h(select)g(operation,)f(or)h(you)g(can)g(click)g(the)f
Fc(No)0 1754 y(Net)h Fe(b)n(utton)d(in)i(the)g(netlist)f(menu)g(\(you)h
(can)h(do)f(this)f(e)n(v)o(en)g(while)h(the)g(cursor)g(is)f(in)h(the)g
(square)g(shape\).)38 b(The)0 1874 y Fc(No)29 b(Net)h
Fe(b)n(utton)f(remo)o(v)o(es)f(all)h(terminals)g(from)g(the)h(current)f
(net)h(and)f(destro)o(ys)g(the)h(net.)44 b(It')-5 b(s)29
b(a)h(bad)g(idea)f(to)0 1995 y(lea)n(v)o(e)c(single-net)e(terminals)h
(in)h(the)f(netlist:)29 b(the)c(router)g(will)f(treat)h(them)f(as)h
(errors.)146 2115 y(There)k(are)f(tw)o(o)g(w)o(ays)f(to)h(sa)n(v)o(e)f
(netlists)f(on)i(disk;)g(these)g(are)g(similar)f(to)h(the)f(w)o(ays)h
(you)f(can)h(sa)n(v)o(e)g(layout)0 2236 y(cells.)i(If)c(you)e(type)900
2455 y Fc(:sa)n(v)o(enetlist)g Fe([)p Ff(name)p Fe(])146
2674 y(with)41 b(the)g(cursor)g(o)o(v)o(er)g(the)g(netlist)f(menu,)45
b(the)c(current)g(netlist)f(will)h(be)g(sa)n(v)o(ed)g(on)g(disk)g(in)g
(the)g(\002le)0 2795 y Ff(name)p Fe(.)p Fc(net)p Fe(.)31
b(If)26 b(no)e Ff(name)h Fe(is)f(typed,)g(the)h(name)g(of)g(the)f
(current)h(netlist)f(is)g(used.)30 b(If)c(you)e(type)h(the)f(command)
900 3014 y Fc(:writeall)146 3233 y Fe(then)19 b(Magic)g(will)f(step)h
(through)f(all)h(the)g(netlists)f(that)g(ha)n(v)o(e)h(been)h
(modi\002ed)e(since)h(the)o(y)f(were)i(last)f(written,)0
3354 y(asking)30 b(you)g(if)g(you')-5 b(d)30 b(lik)o(e)g(them)g(to)g
(be)h(written)f(out.)47 b(If)31 b(you)f(try)h(to)f(lea)n(v)o(e)g(Magic)
g(without)f(sa)n(ving)h(all)g(the)0 3474 y(modi\002ed)24
b(netlists,)f(Magic)i(will)f(w)o(arn)h(you)f(and)h(gi)n(v)o(e)e(you)i
(a)g(chance)g(to)g(write)f(them)h(out.)146 3594 y(If)k(you)e(mak)o(e)h
(changes)g(to)g(a)g(netlist)f(and)h(then)f(decide)h(you)g(don')n(t)g(w)
o(ant)f(them,)h(you)g(can)g(use)g(the)g Fc(:\003ush)0
3715 y Fe(netlist)e(command)h(to)g(thro)n(w)g(a)o(w)o(ay)g(all)g(of)h
(the)g(changes)f(and)h(re-read)g(the)g(netlist)e(from)h(its)g(disk)g
(\002le.)40 b(If)28 b(you)0 3835 y(create)f(netlists)d(using)g(a)j(te)o
(xt)d(editor)i(or)f(some)g(other)h(program,)g(you)f(can)h(use)f
Fc(:\003ush)i Fe(after)g(you')-5 b(v)o(e)25 b(modi\002ed)0
3955 y(the)g(netlist)e(\002le)i(in)g(order)g(to)f(mak)o(e)h(sure)g
(that)f(Magic)h(is)f(using)g(the)g(most)g(up-to-date)h(v)o(ersion.)146
4076 y(The)f Fc(Print)f Fe(b)n(utton)f(in)h(the)g(netlist)f(menu)g
(will)h(print)f(out)h(on)g(the)g(te)o(xt)f(screen)i(the)f(names)f(of)i
(all)f(the)g(termi-)0 4196 y(nals)g(in)g(the)g(current)g(net.)30
b(T)m(ry)23 b(this)f(for)i(some)e(of)i(the)f(nets)f(in)h
Fc(tut7b)p Fe(.)31 b(The)24 b(of)n(\002cial)f(name)g(of)g(a)h(terminal)
e(looks)0 4317 y(a)27 b(lot)g(lik)o(e)g(a)g(Unix)f(\002le)i(name,)g
(consisting)d(of)i(a)g(b)n(unch)g(of)g(\002elds)h(separated)f(by)g
(slashes.)37 b(Each)27 b(\002eld)g(e)o(xcept)0 4437 y(the)21
b(last)f(is)h(the)g(id)f(of)h(a)g(subcell,)g(and)g(the)g(last)g
(\002eld)g(is)f(the)h(name)g(of)g(the)g(terminal.)28
b(These)21 b(hierarchical)g(names)0 4557 y(pro)o(vide)f(unique)g(names)
g(for)i(each)f(terminal,)g(e)n(v)o(en)f(if)h(the)f(same)h(terminal)f
(name)h(is)f(re-used)h(in)g(dif)n(ferent)f(cells)0 4678
y(or)25 b(if)g(there)g(are)g(multiple)e(copies)i(of)g(the)f(same)h
(cell.)146 4798 y(The)g Fc(V)-10 b(erify)25 b Fe(b)n(utton)f(will)g
(check)h(the)f(paint)h(of)f(the)h(edit)f(cell)h(to)g(be)f(sure)h(it)g
(implements)d(the)j(connections)0 4918 y(speci\002ed)g(in)f(the)g
(current)g(netlist.)29 b(Feedback)d(areas)f(are)g(created)g(to)f(sho)n
(w)f(nets)h(that)g(are)h(incomplete)e(or)i(nets)0 5039
y(that)f(are)i(shorted)e(together)-5 b(.)146 5159 y(The)29
b Fc(T)-9 b(erms)28 b Fe(b)n(utton)f(will)h(cause)g(Magic)g(to)g
(generate)h(a)g(feedback)f(area)i(o)o(v)o(er)d(each)i(of)f(the)g
(terminals)f(in)0 5280 y(the)h(current)g(netlist,)f(so)h(that)g(you)f
(can)i(see)f(which)f(terminals)g(are)i(included)e(in)h(the)g(netlist.)
39 b(If)28 b(you)g(type)f(the)0 5400 y(command)d Fc(:feedback)j(clear)e
Fe(in)f(a)h(layout)f(windo)n(w)g(then)g(the)h(feedback)g(will)f(be)h
(erased.)1875 5649 y(\2267\226)p eop
%%Page: 8 8
8 7 bop 0 -180 a Fe(April)24 b(12,)h(2006)1717 b(Magic)24
b(T)l(utorial)g(#7:)30 b(Netlists)23 b(and)i(Routing)146
69 y(The)30 b Fc(Cleanup)h Fe(b)n(utton)d(is)i(there)g(as)f(a)h(con)l
(v)o(enience)g(to)f(help)h(you)f(cleanup)g(your)h(netlists.)44
b(If)30 b(you)f(click)0 189 y(on)d(it,)g(Magic)f(will)g(scan)i(through)
e(the)g(current)i(netlist)d(to)i(mak)o(e)g(sure)g(it)g(is)f
(reasonable.)35 b Fc(Cleanup)27 b Fe(looks)e(for)0 309
y(tw)o(o)31 b(error)h(conditions:)42 b(terminal)31 b(names)g(that)g
(don')n(t)g(correspond)g(to)g(an)o(y)g(labels)g(in)g(the)g(design,)h
(and)g(nets)0 430 y(that)27 b(don')n(t)g(ha)n(v)o(e)g(at)g(least)g(tw)o
(o)g(terminals.)38 b(When)27 b(it)g(\002nds)g(either)g(of)h(these)f
(conditions)f(it)g(prints)h(a)g(message)0 550 y(and)33
b(gi)n(v)o(es)e(you)h(the)h(chance)g(to)g(either)g(delete)f(the)h(of)n
(fending)f(terminal)g(\(if)h(you)f(type)g Fc(dterm)p
Fe(\),)k(delete)d(the)0 671 y(of)n(fending)25 b(net)g(\()p
Fc(dnet)p Fe(\),)j(skip)d(the)g(current)h(problem)f(without)f
(modifying)g(the)i(netlist)e(and)i(continue)f(looking)0
791 y(for)39 b(other)f(problems)g(\()p Fc(skip)p Fe(\),)k(or)d(abort)f
(the)h Fc(Cleanup)g Fe(command)f(without)f(making)h(an)o(y)g(more)g
(changes)0 911 y(\()p Fc(abort)p Fe(\).)146 1032 y(The)27
b Fc(Sho)o(w)g Fe(b)n(utton)f(pro)o(vides)f(an)i(additional)f
(mechanism)f(for)i(displaying)e(the)i(paint)f(in)g(the)h(net.)36
b(If)28 b(you)0 1153 y(place)35 b(the)g(box)f(o)o(v)o(er)g(a)h(piece)g
(of)g(paint)f(and)g(click)h(on)f Fc(Sho)o(w)p Fe(,)k(Magic)c(will)g
(highlight)f(all)h(of)h(the)f(paint)g(in)0 1273 y(the)j(net)f(under)h
(the)g(box.)66 b(This)36 b(is)g(similar)g(to)h(pointing)e(at)h(the)h
(net)g(and)g(typing)e Fc(s)i Fe(three)g(times)f(to)g(select)0
1393 y(the)25 b(net,)h(e)o(xcept)f(that)g Fc(Sho)o(w)h
Fe(doesn')n(t)g(select)f(the)h(net)f(\(it)g(uses)h(a)f(dif)n(ferent)h
(mechanism)e(to)h(highlight)f(it\),)h(and)0 1514 y Fc(Sho)o(w)d
Fe(will)e(trace)i(through)e(all)h(cells,)g(e)o(xpanded)g(or)g(not)g
(\(the)g(selection)f(mechanism)g(only)h(considers)f(paint)g(in)0
1634 y(e)o(xpanded)j(cells\).)31 b(Once)24 b(you')-5
b(v)o(e)23 b(used)h Fc(Sho)o(w)g Fe(to)g(highlight)e(a)i(net,)g(the)g
(only)f(w)o(ay)h(to)f(mak)o(e)h(the)g(highlighting)0
1754 y(go)k(a)o(w)o(ay)h(is)f(to)g(place)h(the)g(box)f(o)o(v)o(er)g
(empty)f(space)i(and)g(in)l(v)n(ok)o(e)f Fc(Sho)o(w)h
Fe(again.)42 b Fc(Sho)o(w)29 b Fe(is)f(an)h(old)f(command)0
1875 y(that)23 b(pre-dates)i(the)e(selection)h(interf)o(ace,)g(b)n(ut)g
(we')-5 b(v)o(e)23 b(left)h(it)g(in)f(Magic)h(because)g(some)g(people)f
(\002nd)h(it)g(useful.)0 2218 y Fg(5)143 b(Netlist)34
b(Files)0 2442 y Fe(Netlists)25 b(are)i(stored)f(on)g(disk)g(in)g
(ordinary)g(te)o(xt)f(\002les.)35 b(Y)-11 b(ou)26 b(are)i(welcome)e(to)
g(edit)g(those)f(\002les)i(by)f(hand)g(or)g(to)0 2562
y(write)h(programs)g(that)g(generate)g(the)h(netlists)d(automatically)
-6 b(.)37 b(F)o(or)27 b(e)o(xample,)g(a)g(netlist)f(might)g(be)i
(generated)0 2683 y(by)d(a)g(schematic)f(editor)h(or)g(by)f(a)i
(high-le)n(v)o(el)d(simulator)-5 b(.)29 b(See)d(the)e(manual)h(page)g
Ff(net\(5\))g Fe(for)g(a)g(description)f(of)0 2803 y(netlist)f(\002le)j
(format.)0 3146 y Fg(6)143 b(Running)34 b(the)h(Router)0
3371 y Fe(Once)27 b(you')-5 b(v)o(e)26 b(created)h(a)f(netlist,)g(it)g
(is)g(relati)n(v)o(ely)f(easy)h(to)g(in)l(v)n(ok)o(e)g(the)g(router)-5
b(.)36 b(First,)26 b(place)h(the)f(box)g(around)0 3491
y(the)21 b(area)g(you')-5 b(d)21 b(lik)o(e)f(Magic)g(to)h(consider)f
(for)h(routing.)28 b(No)21 b(terminals)f(outside)f(this)h(area)i(will)e
(be)h(considered,)0 3611 y(and)26 b(Magic)f(will)g(not)h(generate)g(an)
o(y)f(paint)h(more)f(than)h(a)g(fe)n(w)g(units)f(outside)f(this)h(area)
i(\(Magic)f(may)f(use)h(the)0 3732 y(ne)o(xt)g(routing)g(grid)h(line)f
(outside)g(the)h(area\).)38 b(Load)27 b Fc(tut7d)p Fe(,)i
Fc(:\003ush)f Fe(the)f(netlist)f(if)h(you)f(made)h(an)o(y)f(changes)h
(to)0 3852 y(it,)d(set)h(the)f(box)h(to)f(the)h(bounding)e(box)h(of)h
(the)g(cell,)g(and)f(then)h(in)l(v)n(ok)o(e)f(the)h(router)g(using)e
(the)i(command:)900 4084 y Fc(:r)n(oute)146 4316 y Fe(When)j(the)f
(command)f(completes,)h(the)g(netlist)f(should)g(be)i(routed.)38
b(Click)27 b(the)g Fc(V)-10 b(erify)27 b Fe(netlist)f(b)n(utton)g(to)0
4436 y(mak)o(e)31 b(sure)h(the)f(connections)f(were)i(made)f(correctly)
-6 b(.)50 b(T)m(ry)31 b(deleting)g(a)g(piece)h(from)f(one)g(of)h(the)f
(wires)g(and)0 4557 y(v)o(erify)e(again.)45 b(Feedback)31
b(areas)g(should)d(appear)j(to)e(indicate)g(where)h(the)g(routing)f(w)o
(as)h(incorrect.)45 b(Use)30 b(the)0 4677 y Fc(:feedback)h
Fe(command)c(to)h(step)h(through)e(the)i(areas)g(and,)g(e)n(v)o
(entually)-6 b(,)27 b(to)i(delete)f(the)h(feedback)g(\()p
Fc(:feedback)0 4798 y(help)d Fe(gi)n(v)o(es)d(a)i(synopsis)e(of)i(the)g
(command)e(options\).)146 4918 y(If)28 b(the)g(router)f(is)h(unable)f
(to)g(complete)g(the)g(connections,)h(it)f(will)g(report)g(errors)h(to)
f(you.)39 b(Errors)28 b(may)f(be)0 5039 y(reported)g(in)f(se)n(v)o
(eral)g(w)o(ays.)36 b(F)o(or)27 b(some)f(errors,)h(such)g(as)g(non-e)o
(xistent)e(terminal)g(names,)i(messages)f(will)g(be)0
5159 y(printed.)44 b(F)o(or)29 b(other)g(errors,)i(cross-hatched)e
(feedback)h(areas)g(will)e(be)i(created.)45 b(Most)28
b(of)h(the)g(feedback)h(ar)n(-)0 5280 y(eas)d(ha)n(v)o(e)f(messages)g
(similar)g(to)g(\223Net)h(shifter/bit[0]/phi1:)32 b(Can')n(t)27
b(mak)o(e)g(bottom)e(connection.)-7 b(\224)36 b(T)-8
b(o)26 b(see)h(the)0 5400 y(message)c(associated)f(with)h(a)g(feedback)
h(area,)g(place)g(the)f(box)f(o)o(v)o(er)g(the)h(feedback)h(area)g(and)
f(type)g Fc(:feedback)1875 5649 y Fe(\2268\226)p eop
%%Page: 9 9
9 8 bop 0 -180 a Fe(Magic)24 b(T)l(utorial)g(#7:)30 b(Netlists)23
b(and)i(Routing)1717 b(April)24 b(12,)h(2006)0 68 y Fc(wh)o(y)p
Fe(.)52 b(In)31 b(this)g(case)i(the)e(message)h(means)f(that)h(for)g
(some)f(reason)h(the)g(router)g(w)o(as)f(unable)h(to)f(connect)h(the)0
188 y(speci\002ed)e(net)g(\(named)f(by)h(one)g(of)f(its)g(terminals\))g
(within)g(one)h(of)f(the)h(routing)f(channel.)45 b(The)30
b(terms)f(\223bot-)0 309 y(tom\224,)k(\223top\224,)h(etc.)53
b(may)32 b(be)g(misnomers)e(because)j(Magic)f(sometimes)e(rotates)i
(channels)g(before)g(routing:)0 429 y(the)26 b(names)f(refer)i(to)e
(the)h(direction)e(at)i(the)g(time)f(the)g(channel)h(w)o(as)g(routed,)f
(not)g(the)h(direction)f(in)g(the)h(circuit.)0 549 y(Ho)n(we)n(v)o(er)l
(,)i(the)h(location)f(of)g(the)h(feedback)g(area)h(indicates)e(where)h
(the)g(connection)f(w)o(as)g(supposed)g(to)g(ha)n(v)o(e)0
670 y(been)d(made.)146 919 y(Y)-11 b(ou')-5 b(v)o(e)24
b(probably)f(noticed)h(by)f(no)n(w)h(that)f(the)h(router)g(sometimes)f
(generates)h(unnecessary)g(wiring,)f(such)0 1040 y(as)36
b(inserting)f(e)o(xtra)h(jogs)g(and)g(U-shapes)g(in)g(wires)g(\(look)f
(ne)o(xt)h(to)g Fc(right3)g Fe(in)g(the)g(top)g(cell\).)65
b(These)36 b(jogs)0 1160 y(are)31 b(particularly)f(noticeable)g(in)g
(small)g(e)o(xamples.)46 b(Ho)n(we)n(v)o(er)l(,)31 b(the)f(router)h
(actually)f(does)g Ff(better)g Fe(on)g(lar)n(ger)0 1281
y(e)o(xamples:)37 b(there)29 b(will)f(still)f(be)i(a)g(bit)f(of)g(e)o
(xtra)h(wire,)g(b)n(ut)f(it')-5 b(s)28 b(ne)o(gligible)f(in)h
(comparison)f(to)i(the)f(total)g(wire)0 1401 y(length)g(on)h(a)g(lar)n
(ge)h(chip.)43 b(Some)29 b(of)g(this)f(wire)h(is)g(necessary)g(and)g
(important:)38 b(it)29 b(helps)f(the)h(router)g(to)g(a)n(v)n(oid)0
1521 y(se)n(v)o(eral)j(problem)f(situations)g(that)h(w)o(ould)f(cause)i
(it)f(to)g(f)o(ail)g(on)g(more)h(dif)n(\002cult)e(e)o(xamples.)53
b(Ho)n(we)n(v)o(er)l(,)33 b(you)0 1642 y(can)i(use)g(the)g
Fc(straighten)h Fe(command)e(described)h(in)f(\223Magic)h(T)l(utorial)f
(#3:)50 b(Adv)n(anced)35 b(P)o(ainting)f(\(W)l(iring)0
1762 y(and)26 b(Plo)n(wing\)\224)f(to)g(remo)o(v)o(e)g(unnecessary)h
(jogs.)33 b(Please)27 b(don')n(t)e(judge)h(the)f(router)h(by)g(its)f
(beha)n(vior)h(on)f(small)0 1882 y(e)o(xamples.)30 b(On)24
b(the)h(other)g(hand,)f(if)h(it)f(does)h(a)o(wful)f(things)f(on)i(big)f
(e)o(xamples,)g(we')-5 b(d)25 b(lik)o(e)f(to)h(kno)n(w)e(about)i(it.)
146 2132 y(All)i(of)g(the)f(wires)h(placed)g(by)g(the)f(router)h(are)h
(of)f(the)f(same)h(width,)f(so)h(the)g(router)f(w)o(on')n(t)h(be)g(v)o
(ery)g(useful)0 2252 y(for)e(po)n(wer)f(and)h(ground)f(wiring.)146
2502 y(When)37 b(using)e(the)h(Magic)g(router)l(,)j(you)d(can)g(wire)h
(po)n(wer)e(and)i(ground)e(by)h(hand)g(before)h(running)e(the)0
2622 y(router)-5 b(.)34 b(The)26 b(router)g(will)g(be)g(able)g(to)g(w)o
(ork)g(around)g(your)g(hand-placed)g(connections)f(to)h(mak)o(e)g(the)g
(connec-)0 2743 y(tions)c(in)i(the)f(netlist.)29 b(If)24
b(there)g(are)g(certain)g(k)o(e)o(y)f(signals)f(that)h(you)g(w)o(ant)g
(to)h(wire)f(carefully)h(by)f(hand,)h(you)f(can)0 2863
y(do)j(this)f(too;)h(the)f(router)i(will)e(w)o(ork)h(around)f(them.)34
b(Signals)26 b(that)f(you)h(route)g(by)f(hand)h(should)f(not)g(be)i(in)
e(the)0 2984 y(netlist.)k Fc(T)-9 b(utorial7b)26 b Fe(has)e(an)h(e)o
(xample)f(of)h(\223hand)g(routing\224)f(in)g(the)h(form)g(of)g(a)g
(piece)g(of)g(metal)f(in)h(the)f(middle)0 3104 y(of)k(the)f(circuit.)38
b(Undo)27 b(the)g(routing,)g(and)g(try)h(modifying)d(the)j(metal)e
(and/or)i(adding)e(more)h(hand)h(routing)e(of)0 3224
y(your)f(o)n(wn)e(to)i(see)g(ho)n(w)f(it)g(af)n(fects)h(the)g(routing.)
146 3474 y(The)g(Magic)f(router)g(has)g(a)h(number)f(of)g(options)f
(useful)h(for)h(getting)e(information)g(about)h(the)g(routing)f(and)0
3594 y(setting)g(routing)g(parameters.)31 b(Y)-11 b(ou)24
b(need)g(to)g(in)l(v)n(ok)o(e)f(the)h Fc(r)n(oute)i Fe(command)d(once)h
(for)h(each)g(option)e(you)g(w)o(ant)0 3715 y(to)g(specify;)h(then)f
(type)h Fc(:r)n(oute)h Fe(with)e(no)g(options)f(to)i(start)f(up)h(the)f
(router)h(with)f(whate)n(v)o(er)g(parameters)h(you')-5
b(v)o(e)0 3835 y(set.)36 b(The)27 b Fc(viamin)p Fe(,)f(option)g(which)g
(in)l(v)n(ok)o(es)g(a)h(routing)e(post-pass)h(is,)g(of)h(course,)g(in)l
(v)n(ok)o(ed)f(AFTER)h(routing.)0 3955 y(T)-8 b(ype)34
b Fc(:r)n(oute)h(netlist)f Ff(\002le)f Fe(to)g(specify)h(a)g(netlist)e
(for)i(the)g(routing)e(without)h(ha)n(ving)g(to)g(open)g(up)h(the)f
(netlist)0 4076 y(menu.)54 b(The)33 b Fc(metal)f Fe(option)g(lets)g
(you)g(toggle)g(metal)g(maximization)f(on)h(and)h(of)n(f;)j(if)d(metal)
f(maximization)0 4196 y(is)c(turned)h(on,)g(the)g(router)f(con)l(v)o
(erts)g(routing)g(from)g(the)h(alternate)g(routing)e(layer)i
(\(\223poly\224\))g(to)f(the)h(preferred)0 4317 y(routing)d(layer)i
(\(\223metal\224\))g(where)n(v)o(er)f(possible.)38 b(The)27
b Fc(vias)g Fe(option)f(controls)h(metal)g(maximization)f(by)h(spec-)0
4437 y(ifying)k(ho)n(w)g(man)o(y)g(grid)h(units)f(of)h(\223metal\224)g
(con)l(v)o(ersion)f(mak)o(e)h(it)f(w)o(orthwhile)g(to)h(place)g(vias;)j
(setting)c(this)0 4557 y(to)c(5)h(means)f(that)g(metal)g(maximization)f
(will)g(add)i(e)o(xtra)f(vias)g(only)g(if)h(5)f(or)h(more)f(grid)g
(units)g(of)g(\223poly\224)h(can)0 4678 y(be)33 b(con)l(v)o(erted)g(to)
g(\223metal\224.)56 b(V)-6 b(ie)n(w)32 b(the)h(current)h(technology')-5
b(s)31 b(router)i(parameters)h(with)e(the)h Fc(tech)h
Fe(option.)0 4798 y(The)28 b Fc(jog)p Fe(,)g Fc(obstacle)p
Fe(,)g(and)g Fc(steady)f Fe(options)f(let)i(you)f(vie)n(w)g(and)g
(change)h(parameters)g(to)f(control)g(the)g(channel)0
4918 y(router)21 b(\(this)e(feature)j(is)e(for)h(adv)n(anced)f
(users\).)29 b(The)21 b Fc(viamin)f Fe(option)f(in)l(v)n(ok)o(es)h(a)h
(via)f(minimization)f(algorithm)0 5039 y(which)24 b(reduces)h(the)f
(number)g(of)h(vias)f(in)g(a)h(routed)f(layout.)30 b(This)24
b(can)h(be)g(used)f(as)g(a)h(post-processing)e(step)h(to)0
5159 y(impro)o(v)o(e)k(the)h(quality)f(of)i(the)f(routing.)44
b(This)28 b(may)h(be)h(useful)f(e)n(v)o(en)g(when)g(using)f(another)i
(router)f(to)g(do)g(the)0 5280 y(actual)f(routing.)39
b(Finally)-6 b(,)27 b(sho)n(w)g(all)h(parameter)g(v)n(alues)f(with)g
(the)h Fc(settings)g Fe(option.)38 b(The)28 b(options)f(and)g(their)0
5400 y(actions)d(are)i(summarized)e(in)g(T)-8 b(able)25
b(III.)1875 5649 y(\2269\226)p eop
%%Page: 10 10
10 9 bop 0 -180 a Fe(April)24 b(12,)h(2006)1717 b(Magic)24
b(T)l(utorial)g(#7:)30 b(Netlists)23 b(and)i(Routing)p
563 3 2775 4 v 561 124 4 121 v 612 88 a(Option)p 1185
124 V 347 w(Action)p 3336 124 V 563 127 2775 4 v 561
247 4 121 v 612 211 a Fc(end)p 1185 247 V 471 w Fe(Print)g(the)f
(channel)h(router)g(end)g(constant)p 3336 247 V 561 368
V 612 332 a Fc(end)p Ff(r)l(eal)p 1185 368 V 314 w Fe(Set)g(the)g
(channel)f(router)h(end)g(constant)p 3336 368 V 563 371
2775 4 v 561 491 4 121 v 612 455 a Fc(help)p 1185 491
V 443 w Fe(Print)g(a)g(summary)e(of)i(the)g(router)g(options)p
3336 491 V 563 495 2775 4 v 561 615 4 121 v 612 579 a
Fc(jog)p 1185 615 V 492 w Fe(Print)g(the)f(channel)h(router)g(minimum)d
(jog)i(length)p 3336 615 V 561 736 V 612 699 a Fc(jog)h
Ff(int)p 1185 736 V 361 w Fe(Set)g(the)g(minimum)d(jog)i(length,)g
(measured)h(in)f(grid)h(units)p 3336 736 V 563 739 2775
4 v 561 859 4 121 v 612 823 a Fc(metal)p 1185 859 V 387
w Fe(T)-8 b(oggle)24 b(metal)g(maximization)f(on)i(or)g(of)n(f)p
3336 859 V 563 863 2775 4 v 561 983 4 121 v 612 947 a
Fc(netlist)p 1185 983 V 365 w Fe(Print)g(the)f(name)h(of)g(the)f
(current)h(net)g(list)p 3336 983 V 561 1103 V 612 1067
a Fc(netlist)g Ff(\002le)p 1185 1103 V 218 w Fe(Set)g(the)g(current)g
(net)f(list)p 3336 1103 V 563 1107 2775 4 v 561 1227
4 121 v 612 1191 a Fc(obstacle)p 1185 1227 V 282 w Fe(Print)h(the)f
(channel)h(router)g(obstacle)f(constant)p 3336 1227 V
561 1347 V 612 1311 a Fc(obstacle)h Ff(r)l(eal)p 1185
1347 V 100 w Fe(Set)g(the)g(obstacle)f(constant)p 3336
1347 V 563 1351 2775 4 v 561 1471 4 121 v 612 1435 a
Fc(settings)p 1185 1471 V 304 w Fe(Print)h(a)g(list)e(of)i(all)g
(router)g(parameters)p 3336 1471 V 563 1474 2775 4 v
561 1595 4 121 v 612 1559 a Fc(steady)p 1185 1595 V 354
w Fe(Print)g(the)f(channel)h(router)g(steady)f(net)h(constant)p
3336 1595 V 561 1715 V 612 1679 a Fc(steady)h Ff(int)p
1185 1715 V 222 w Fe(Set)f(the)g(steady)f(net)h(constant,)f(measured)g
(in)h(grid)f(units)p 3336 1715 V 563 1719 2775 4 v 561
1839 4 121 v 612 1803 a Fc(tech)p 1185 1839 V 449 w Fe(Print)h(router)f
(technology)g(information)p 3336 1839 V 563 1842 2775
4 v 561 1963 4 121 v 612 1927 a Fc(vias)p 1185 1963 V
458 w Fe(Print)h(the)f(metal)g(maximization)f(via)i(limit)p
3336 1963 V 561 2083 V 612 2047 a Fc(vias)f Ff(int)p
1185 2083 V 328 w Fe(Set)h(the)g(via)f(limit)p 3336 2083
V 563 2086 2775 4 v 561 2207 4 121 v 612 2171 a Fc(viamin)p
1185 2207 V 331 w Fe(Minimize)f(vias)i(in)f(a)h(routed)g(layout.)p
3336 2207 V 563 2210 2775 4 v 927 2477 a(T)-8 b(able)25
b(3:)30 b(A)25 b(summary)f(of)h(all)f(of)h(Magic)g(router)g(options.)0
2764 y Fg(7)143 b(Ho)o(w)35 b(the)g(Router)f(W)-11 b(orks)0
2991 y Fe(In)24 b(order)g(to)g(mak)o(e)f(the)h(router)g(produce)g(the)f
(best)h(possible)e(results,)i(it)f(helps)g(to)h(kno)n(w)f(a)h(little)e
(bit)i(about)f(ho)n(w)0 3111 y(it)32 b(w)o(orks.)55 b(The)32
b(router)h(runs)g(in)f(three)h(stages,)h(called)f Ff(c)o(hannel)f
(de\002nition)p Fe(,)h Ff(global)f(r)l(outing)p Fe(,)g(and)h
Ff(c)o(hannel)0 3232 y(r)l(outing)p Fe(.)51 b(In)33 b(the)f(channel)g
(de\002nition)f(phase,)k(Magic)d(di)n(vides)e(the)i(area)i(of)e(the)g
(edit)g(cell)g(into)g(rectangular)0 3352 y(routing)i(areas)h(called)g
(channels.)60 b(The)35 b(channels)f(co)o(v)o(er)h(all)f(the)h(space)g
(under)f(the)h(box)f(e)o(xcept)h(the)f(areas)0 3472 y(occupied)25
b(by)g(subcells.)31 b(All)25 b(of)g(Magic')-5 b(s)25
b(routing)f(goes)h(in)g(the)g(channel)g(areas,)h(e)o(xcept)f(that)g
(stems)f(\(Section)0 3593 y(8.2\))h(may)f(e)o(xtend)g(o)o(v)o(er)g
(subcells.)146 3715 y(T)-8 b(o)28 b(see)h(the)f(channel)g(structure)g
(that)g(Magic)g(chose,)h(place)f(the)g(box)g(in)g Fc(tut7d)h
Fe(as)f(if)h(you)e(were)i(going)e(to)0 3835 y(route,)e(then)f(type)g
(the)h(command)900 4075 y Fc(:channel)146 4314 y Fe(in)30
b(the)g(layout)g(windo)n(w)-6 b(.)45 b(Magic)30 b(will)f(compute)h(the)
g(channel)g(structure)g(and)g(display)g(it)f(on)h(the)h(screen)0
4434 y(as)j(a)f(collection)g(of)g(feedback)h(areas.)58
b(The)33 b(channel)h(structure)f(is)g(displayed)f(as)i(white)f
(rectangles.)56 b(T)-8 b(ype)0 4554 y Fc(:feedback)27
b(clear)e Fe(when)g(you')-5 b(re)25 b(through)f(looking)f(at)i(them.)
146 4676 y(The)32 b(second)g(phase)g(of)g(routing)f(is)h(global)f
(routing.)51 b(In)32 b(the)g(global)f(routing)g(phase,)j(Magic)e
(considers)0 4797 y(each)22 b(net)f(in)g(turn)g(and)g(chooses)g(the)g
(sequence)h(of)f(channels)h(the)f(net)g(must)f(pass)h(through)g(in)g
(order)g(to)g(connect)0 4917 y(its)28 b(terminals.)41
b(The)28 b Ff(cr)l(ossing)f(points)g Fe(\(places)i(where)g(the)f(net)h
(crosses)f(from)h(one)f(channel)h(to)f(another\))g(are)0
5037 y(chosen)d(at)f(this)g(point,)g(b)n(ut)g(not)g(the)h(e)o(xact)g
(path)f(through)g(each)h(channel.)146 5159 y(In)36 b(the)f(third)g
(phase,)j(each)e(channel)g(is)f(considered)g(separately)-6
b(.)62 b(All)35 b(the)g(nets)h(passing)e(through)h(that)0
5280 y(channel)30 b(are)h(e)o(xamined)e(at)h(once,)i(and)e(the)g(e)o
(xact)g(path)g(of)h(each)f(net)g(is)g(decided.)47 b(Once)31
b(the)f(routing)f(paths)0 5400 y(ha)n(v)o(e)c(been)g(determined,)f
(paint)g(is)g(added)h(to)f(the)h(edit)f(cell)h(to)f(implement)g(the)g
(routing.)1850 5649 y(\22610\226)p eop
%%Page: 11 11
11 10 bop 0 -180 a Fe(Magic)24 b(T)l(utorial)g(#7:)30
b(Netlists)23 b(and)i(Routing)1717 b(April)24 b(12,)h(2006)146
68 y(The)20 b(router)g(is)g(grid-based:)27 b(all)20 b(wires)g(are)h
(placed)f(on)f(a)i(uniform)e(grid.)28 b(F)o(or)20 b(the)g(standard)f
(nMOS)h(process)0 188 y(the)28 b(grid)g(spacing)g(is)g(7)h(units,)f
(and)g(for)h(the)f(standard)g(SCMOS)h(process)g(it)f(is)g(8)g(units.)40
b(If)29 b(you)f(type)g Fc(:grid)h(8)0 309 y Fe(after)h(routing)d
Fc(tut7b)p Fe(,)k(you')o(ll)d(see)i(that)e(all)h(of)g(the)f(routing)g
(lines)h(up)f(with)g(its)g(lo)n(wer)h(and)g(left)g(sides)f(on)h(grid)0
429 y(lines.)55 b(F)o(ortunately)-6 b(,)34 b(you)e(don')n(t)h(ha)n(v)o
(e)g(to)g(mak)o(e)g(your)f(cell)h(terminals)g(line)f(up)h(on)g(e)n(v)o
(en)f(grid)h(boundaries.)0 549 y(During)24 b(the)h(routing)e(Magic)i
(generates)g Ff(stems)f Fe(that)g(connect)h(your)f(terminals)g(up)g(to)
h(grid)f(lines)g(at)h(the)f(edges)0 670 y(of)31 b(channels.)50
b(Notice)32 b(that)e(there')-5 b(s)31 b(space)h(left)f(by)g(Magic)g
(between)h(the)f(subcells)g(and)g(the)g(channels;)j(this)0
790 y(space)25 b(is)g(used)f(by)h(the)f(stem)g(generator)-5
b(.)0 1178 y Fg(8)143 b(What)36 b(to)f(do)h(When)f(the)g(Router)f(F)l
(ails)0 1417 y Fe(Don')n(t)27 b(be)h(surprised)f(if)h(the)f(router)h
(is)f(unable)g(to)h(mak)o(e)f(all)g(the)h(connections)f(the)g(\002rst)h
(time)f(you)g(try)g(it)g(on)h(a)0 1538 y(lar)n(ge)i(circuit.)45
b(Unless)29 b(you)h(ha)n(v)o(e)f(e)o(xtra)h(routing)e(space)j(in)e
(your)g(chip,)i(you)e(may)h(ha)n(v)o(e)f(to)g(mak)o(e)h(slight)e(re-)0
1658 y(arrangements)23 b(to)g(help)g(the)g(router)g(out.)30
b(The)23 b(paragraphs)h(belo)n(w)e(describe)i(things)e(you)g(can)i(do)f
(to)g(mak)o(e)g(life)0 1778 y(easier)h(for)g(the)g(router)-5
b(.)30 b(This)23 b(section)g(is)h(not)f(v)o(ery)h(well)f(de)n(v)o
(eloped,)g(so)g(we')-5 b(d)24 b(lik)o(e)g(to)f(hear)i(about)e
(techniques)0 1899 y(you)28 b(use)h(to)f(impro)o(v)o(e)f(routability)-6
b(.)39 b(If)30 b(you)e(disco)o(v)o(er)f(ne)n(w)h(techniques,)h(send)f
(us)g(mail)g(and)h(we')o(ll)f(add)h(them)0 2019 y(to)24
b(this)g(section.)0 2363 y Fd(8.1)119 b(Channel)32 b(Structur)n(e)0
2566 y Fe(One)d(of)h(the)f(\002rst)g(things)f(to)h(check)h(when)f(the)h
(router)f(f)o(ails)g(is)g(the)g(channel)g(structure.)44
b(If)30 b(using)e(the)h(Magic)0 2686 y(router)l(,)c(type)f
Fc(:channel)i Fe(to)e(look)g(at)h(the)g(channels.)30
b(One)25 b(common)e(mistak)o(e)h(is)g(to)g(ha)n(v)o(e)h(some)f(of)h
(the)f(desired)0 2807 y(routing)32 b(area)i(co)o(v)o(ered)f(by)f
(subcells;)37 b(Magic)32 b(only)h(runs)f(wires)h(where)h(there)f(are)h
(no)f(subcells.)55 b(Check)33 b(to)0 2927 y(be)e(sure)g(that)f(there)h
(are)g(channels)g(e)n(v)o(erywhere)f(that)g(you')-5 b(re)31
b(e)o(xpecting)f(wires)g(to)h(run.)48 b(If)31 b(you)f(place)h(cells)0
3047 y(too)d(close)g(together)l(,)g(there)h(may)f(not)g(be)g(enough)g
(room)f(to)h(ha)n(v)o(e)g(a)h(channel)f(between)g(the)g(cells;)i(when)e
(this)0 3168 y(happens)33 b(Magic)g(will)f(route)h(willy-nilly)e
(across)i(the)g(tops)f(of)i(cells)f(to)f(bring)h(terminals)f(out)h(to)g
(channels,)0 3288 y(and)28 b(will)f(probably)h(generate)h(shorts)e(or)h
(design-rule)g(violations.)39 b(T)-8 b(o)28 b(solv)o(e)f(the)h
(problem,)g(mo)o(v)o(e)e(the)i(cells)0 3409 y(f)o(arther)g(apart.)38
b(If)28 b(there)f(are)h(man)o(y)e(skinn)o(y)g(channels,)h(it)g(will)f
(be)i(dif)n(\002cult)e(for)h(the)g(router)h(to)f(produce)g(good)0
3529 y(routing.)i(T)m(ry)24 b(to)g(re-arrange)h(the)f(cell)g(structure)
g(to)g(line)g(up)g(edges)g(of)g(nearby)g(cells)g(so)g(that)g(there)g
(are)h(as)f(fe)n(w)0 3649 y(channels)31 b(as)g(possible)e(and)i(the)o
(y)f(are)i(as)f(lar)n(ge)g(as)g(possible)f(\(before)i(doing)e(this)g
(you')o(ll)g(probably)g(w)o(ant)g(to)0 3770 y(get)25
b(rid)f(of)h(the)g(e)o(xisting)e(routing)g(by)i(undo-ing)f(or)h(by)f
(\003ushing)g(the)h(edit)f(cell\).)0 4113 y Fd(8.2)119
b(Stems)0 4317 y Fe(Another)30 b(problem)g(has)h(to)f(do)g(with)g(the)h
(stem)f(generator)-5 b(.)48 b(Stems)30 b(are)i(the)e(pieces)h(of)g
(wiring)f(that)g(connect)0 4437 y(terminals)i(up)h(to)f(grid)h(points)e
(on)i(the)g(edges)g(of)g(channels.)54 b(The)33 b(current)h(stem)e
(generation)g(code)h(doesn')n(t)0 4557 y(kno)n(w)c(about)g(connecti)n
(vity)f(or)i(design)f(rules.)46 b(It)30 b(simply)e(\002nds)i(the)f
(nearest)h(routing)f(grid)h(point)e(and)i(wires)0 4678
y(out)f(to)g(that)h(point,)f(without)g(considering)f(an)o(y)h(other)h
(terminals.)44 b(If)30 b(a)g(terminal)f(is)h(not)f(on)g(the)h(edge)f
(of)h(the)0 4798 y(cell,)37 b(the)d(stem)f(runs)h(straight)f(across)i
(the)f(cell)g(to)g(the)g(nearest)h(channel,)h(without)d(an)o(y)h
(consideration)f(for)0 4918 y(other)26 b(material)f(in)g(the)h(cell.)33
b(If)26 b(tw)o(o)f(terminals)g(are)h(too)f(close)h(together)l(,)f
(Magic)h(may)f(decide)h(to)f(route)h(them)0 5039 y(both)i(to)g(the)h
(same)f(grid)h(point.)41 b(When)29 b(this)e(happens,)i(you)g(ha)n(v)o
(e)f(tw)o(o)g(choices.)43 b(Either)28 b(you)g(can)h(mo)o(v)o(e)e(the)0
5159 y(cell)e(so)g(that)f(the)h(terminals)f(ha)n(v)o(e)h(dif)n(ferent)f
(nearest)i(grid)e(points)g(\(for)h(e)o(xample,)f(you)h(can)g(line)g
(its)f(terminals)0 5280 y(up)h(with)f(the)g(grid)h(lines\),)f(or)h(if)g
(this)f(doesn')n(t)g(w)o(ork)h(you')o(ll)f(ha)n(v)o(e)g(to)h(modify)f
(the)g(cell)h(to)g(mak)o(e)f(the)h(terminals)0 5400 y(f)o(arther)g
(apart.)1850 5649 y(\22611\226)p eop
%%Page: 12 12
12 11 bop 0 -180 a Fe(April)24 b(12,)h(2006)1717 b(Magic)24
b(T)l(utorial)g(#7:)30 b(Netlists)23 b(and)i(Routing)146
68 y(The)f(place)h(where)f(stems)f(cause)i(the)e(most)g(trouble)h(is)f
(in)h(PLAs,)g(man)o(y)f(of)h(which)g(ha)n(v)o(e)f(been)h(optimized)0
188 y(to)j(space)h(the)g(outputs)e(as)i(closely)f(together)g(as)g
(possible.)38 b(In)28 b(some)f(cases)h(the)f(outputs)g(are)h(closer)g
(together)0 309 y(than)35 b(the)g(routing)e(grid,)38
b(which)c(is)h(an)g(impossible)e(situation)g(for)i(the)g(stem)g
(generator)-5 b(.)61 b(In)35 b(this)f(case,)k(we)0 429
y(think)28 b(the)h(best)g(approach)g(is)g(to)g(change)h(the)f(PLA)g
(templates)f(to)h(space)h(the)f(outputs)f(f)o(arther)h(apart.)45
b(Either)0 549 y(space)33 b(them)g(e)o(xactly)f(the)h(same)g(as)h(the)f
(router)g(grid)f(\(in)h(which)g(case)h(you)e(can)i(line)f(the)g(PLAs)g
(up)g(before)0 670 y(routing)28 b(so)h(the)f(terminals)g(are)i(already)
f(on)g(the)g(grid\),)g(or)h(space)f(the)g(outputs)e(at)i(least)g(1.5)f
(grid)h(units)f(apart)0 790 y(so)g(the)g(stem)g(generator)g(w)o(on')n
(t)g(ha)n(v)o(e)g(troubles.)40 b(Ha)n(ving)28 b(tightly-spaced)f(PLA)h
(outputs)f(is)h(f)o(alse)g(economy:)0 911 y(it)c(mak)o(es)g(it)g(more)g
(dif)n(\002cult)g(to)g(design)f(the)h(PLAs)h(and)f(results)g(in)g(a)o
(wful)g(routing)f(problems.)29 b(Ev)o(en)24 b(if)g(Magic)0
1031 y(could)k(ri)n(v)o(er)n(-route)g(out)g(from)g(tightly-spaced)f
(terminals)h(to)g(grid)g(lines)g(\(which)h(it)f(can')n(t\),)i(it)e(w)o
(ould)g(require)0 1151 y Fb(N)88 1115 y Fa(2)153 1151
y Fe(space)d(to)f(route)h(out)f Fb(N)36 b Fe(lines;)24
b(it)g(tak)o(es)g(less)h(area)h(to)e(stretch)h(the)f(PLA.)0
1441 y Fd(8.3)119 b(Obstacles)0 1629 y Fe(The)32 b(router)h(tends)f(to)
g(ha)n(v)o(e)g(special)g(dif)n(\002culties)f(with)h(obstacles)g
(running)f(along)h(the)h(edges)f(of)h(channels.)0 1749
y(When)27 b(you')-5 b(v)o(e)27 b(placed)g(a)g(po)n(wer)g(wire)h(or)f
(other)g(hand-routing)f(along)g(the)h(edge)h(of)f(a)h(channel,)f(the)g
(channel)0 1870 y(router)i(will)f(often)h(run)g(material)f(under)h
(your)g(wiring)f(in)h(the)f(other)h(routing)f(layer)l(,)i(thereby)f
(blocking)f(both)0 1990 y(routing)38 b(layers)h(and)g(making)f(it)g
(impossible)f(to)i(complete)f(the)h(routing.)72 b(Where)40
b(this)e(occurs,)k(you)d(can)0 2110 y(increase)f(the)f(chances)g(of)g
(successful)g(routing)f(by)h(mo)o(ving)e(the)i(hand-routing)f(a)o(w)o
(ay)h(from)g(the)g(channel)0 2231 y(edges.)55 b(It')-5
b(s)32 b(especially)g(important)g(to)g(k)o(eep)h(hand-routing)f(a)o(w)o
(ay)h(from)f(terminals.)54 b(The)33 b(stem)f(generator)0
2351 y(will)24 b(not)h(pay)g(an)o(y)f(attention)g(to)h(hand-routing)e
(when)i(it)g(generates)g(stems)f(\(it)h(just)f(mak)o(es)h(a)g(bee-line)
g(for)g(the)0 2471 y(nearest)g(grid)f(point\),)g(so)h(it)f(may)g
(accidentally)h(short)f(a)h(terminal)f(to)g(nearby)h(hand-routing.)1170
4150 y @beginspecial 68 @llx 68 @lly 304 @urx 304 @ury
1872 @rwi @setspecial
%%BeginDocument: ../psfigures/tut7.3.ps
%!PS-Adobe-3.0 EPSF-3.0
%%Title: ../psfiles/tut7.3.ps
%%Creator: Xcircuit v2.0
%%CreationDate: Fri Apr 14 13:21:10 2000
%%Pages: 1
%%BoundingBox: 68 68 304 304
%%DocumentNeededResources: 
%%EndComments
%%BeginProlog
%
%  PostScript prolog for output from xcircuit
%  Version: 2.0
%
%  Electrical circuit (and otherwise general) drawing program
%
%  Written by Tim Edwards 8/5/93--2/25/99  (tim@bach.ece.jhu.edu)
%  The Johns Hopkins University
%
%%BeginResource: procset XCIRCproc 2.0 2
% supporting definitions --- these are the primary xcircuit types.

/XCIRCsave save def
/topmat matrix currentmatrix def

/fontslant { /slant exch def [1 0 slant 1 0 0] 
    exch findfont exch makefont dup length dict /ndict exch def
    { 1 index /FID ne { ndict 3 1 roll put } { pop pop } ifelse } forall
    ndict definefont pop} def
/cf { dup type /realtype eq {40 mul /fscale exch def} if dup /xfont exch def
   findfont fscale scalefont setfont } def
/Ss { gsave 0.67 dup scale gsave mty neg rmoveto
   glevel 1 add /glevel exch def } def
/ss { gsave 0.67 dup scale gsave mty 0.5 mul rmoveto
   glevel 1 add /glevel exch def } def
/ns { currentpoint transform   % preserve x position!
   glevel {grestore} repeat /glevel 0 def
   itransform pop currentpoint pop sub 0 rmoveto } def
/ul { showflag 1 eq { gsave 
   currentpoint topmat setmatrix 0 0 moveto 2 index stringwidth pop (_)
   false charpath flattenpath pathbbox grestore exch pop 1 index
   sub setlinewidth exch pop currentpoint 3 -1 roll add moveto 0
   rlineto stroke moveto } if } def
/ol { showflag 1 eq { gsave gsave
   currentpoint topmat setmatrix 2 index stringwidth pop 3 index
   true charpath flattenpath pathbbox grestore exch pop
   exch pop topmat setmatrix (_) true charpath pathbbox grestore
   exch pop 1 index sub setlinewidth exch pop currentpoint
   exch 4 1 roll exch sub add moveto pop 0 rlineto stroke
   moveto } if } def
/stW { gsave true charpath flattenpath pathbbox pop exch pop sub
   grestore } def
/bs { stW 0 rmoveto } def
/pspc 0 def
/qS { (aa) stW (a a) stW sub 4 div 0 rmoveto } def
/hS { qS qS } def
/textx { dup 1 add copy 0 exch { exch dup type /stringtype eq
	{stringwidth pop add}{exec} ifelse } repeat neg ns } def
/mty { 0 topmat setmatrix (A) true charpath flattenpath pathbbox exch
   pop exch sub exch pop neg grestore } def
/texty { gsave 2 copy pop exec mty } def
/tcenter { textx grestore 0.5 mul 0 rmoveto } def
/tright  { textx grestore fspc sub 0 rmoveto } def
/tmiddle { texty 0.5 mul rmoveto } def
/ttop    { texty fspc sub rmoveto } def
/tshow {{ dup type /stringtype eq {show}{exec} ifelse} repeat ns } def

/label  { gsave translate 0 0 moveto rotate /just exch def just 16 and 0 gt
	{0 1 dtransform gsave pagemat setmatrix idtransform exch grestore
	1 0 dtransform gsave pagemat setmatrix idtransform exch grestore
	dup 0 eq {pop mul 0 gt} {3 1 roll pop pop 0 lt} ifelse
	{-1 /just just dup 3 and 1 ne {3 xor} if def} {1} ifelse exch 0 lt
	{-1 /just just dup 12 and 4 ne {12 xor} if def} {1} ifelse scale } if
	/glevel 0 def /showflag 0 def /fspc pspc def
	just 1 and 0 gt {gsave just 2 and 0 gt {tright}{tcenter} ifelse}
	{fspc 0 rmoveto} ifelse
	just 4 and 0 gt {just 8 and 0 gt {ttop}{tmiddle} ifelse}
	{0 fspc rmoveto} ifelse
	/showflag 1 def tshow grestore } def
/pinlabel { hlevel 0 eq { /pspc 20 def label /pspc 0 def }
	{ pop pop pop pop {pop} repeat } ifelse } def
/pinglobal { pinlabel } def
/infolabel { pinlabel } def

/begingate { /hlevel hlevel 1 add def gsave translate 0 0 moveto dup 0 lt
	{neg 1 sub -1 1 scale} if rotate dup scale } bind def
/makeparm  {3 string cvs dup length 1 add string /tstr exch def tstr exch
	1 exch putinterval tstr 0 (v) putinterval tstr cvn} bind def
/beginparm { -1 1 {makeparm exch def} for
	dup type /arraytype eq { aload length -1 1 {makeparm exch def}
	for } if begingate } bind def
/endgate { /hlevel hlevel 1 sub def grestore } bind def

/hlevel 0 def
/tmpa [1 0 0 1 0 0] def
/gar {8 8 true tmpa {<c0 c0 00 00 0c 0c 00 00>} imagemask} bind
{8 8 true tmpa {<30 70 60 02 03 07 06 20>} imagemask} bind
{8 8 true tmpa {<0c 1e 1e 0c c0 e1 e1 c0>} imagemask} bind
{8 8 true tmpa {<0f 0f 0f 0f f0 f0 f0 f0>} imagemask} bind
{8 8 true tmpa {<3f f3 e1 e1 f3 3f 1e 1e>} imagemask} bind
{8 8 true tmpa {<df cf 8f 9f fd fc f8 f9>} imagemask} bind
{8 8 true tmpa {<ff 3f 3f ff ff f3 f3 ff>} imagemask} bind 7 array astore def
/ppaint { gsave clip tmpa dup setmatrix pathbbox neg exch neg 4 2 roll
  neg 4 -1 roll 2 copy gt {exch} if 8 div ceiling 8 mul 4 2 roll neg 2 copy
  gt {exch} if 8 div ceiling 8 mul 3 -1 roll -8 5 -1 roll
  { 3 index exch 5 exch put dup -8 3 index { 3 index
  exch 4 exch put 3 index exec } for } for pop pop pop pop grestore } bind def
/setstyles {
  currentlinewidth mul setlinewidth /style exch def
  style 1 and 0 gt not {closepath} if
  style 2 and 0 gt {currentlinewidth 4 mul dup 2 array astore 0 setdash} if 
  style 4 and 0 gt {0.5 currentlinewidth 4 mul 2 array astore 0 setdash} if 
  style dup 256 ge exch 480 lt and { gsave 1 setgray eofill grestore } if
  style 16 and 0 gt { gsave style 224 and -5 bitshift dup 7 lt
	{gar exch get ppaint} { pop eofill } ifelse grestore } if
  style 8 and 0 gt { newpath } { stroke } ifelse grestore } def
/scb { gsave setrgbcolor } bind def  /sce { grestore } bind def

/polygon { gsave /num exch def moveto num 1 sub {lineto} repeat setstyles } def
/xcarc   { gsave newpath arc setstyles } def
/elb { matrix currentmatrix 7 -1 roll 7 -1 roll translate 5 1 roll 4 -1 roll
	3 index div 1 scale } def
/ele { 0 4 1 roll 0 4 1 roll } bind def
/ellipse { gsave elb newpath ele arc setmatrix setstyles } def
/pellip  { elb ele arc setmatrix } def
/nellip  { elb ele arcn setmatrix } def
/spline  { gsave moveto curveto setstyles } def
/polyc   { {lineto} repeat } bind def
/beginpath { gsave moveto } bind def
/endpath { setstyles } bind def
/bop	 { 1 setlinecap 0 setlinejoin 6 setmiterlimit 0 setgray } def
/insertion {/PSobj save def /showpage {} def bop translate} def
/end_insert {PSobj restore} def
/setpagemat {/pagemat matrix currentmatrix def} def
/inchscale  {setpagemat 0.375 mul dup scale} def
/cmscale    {setpagemat 0.35433071 mul dup scale} def

%%EndResource
%%EndProlog

% XCircuit output starts here.

/mgrid {
% -304 -304 608 608 bbox
begingate
1  1.00 -256 304 -256 -304 2 polygon
1  1.00 -128 304 -128 -304 2 polygon
1  1.00 -304 224 304 224 2 polygon
1  1.00 -304 64 304 64 2 polygon
1  1.00 0 304 0 -304 2 polygon
1  1.00 256 304 256 -304 2 polygon
1  1.00 128 304 128 -304 2 polygon
1  1.00 -304 -256 304 -256 2 polygon
1  1.00 -304 -96 304 -96 2 polygon
endgate
} def

%%Page: 1 1
%%PageOrientation: Portrait
/pgsave save def bop
% 848 560 offsets
1.0000 inchscale
2.6000 setlinewidth

0.490 0.651 0.980 scb
240  1.00 240 400 688 400 688 768 624 768 624 464 240 464 6 polygon
sce
0.745 0.600 0.871 scb
240  1.00 496 224 496 384 560 384 560 224 4 polygon
sce
0  1.00 496 224 496 384 560 384 560 224 4 polygon
0  1.00 240 400 688 400 688 768 624 768 624 464 240 464 6 polygon
0.616 0.624 0.925 scb
240  1.00 480 384 480 480 576 480 576 384 4 polygon
sce
0  1.00 480 384 480 480 576 480 576 384 4 polygon
1  1.00 480 480 576 384 2 polygon
1  1.00 576 480 480 384 2 polygon
0.800 0.800 0.800 scb
1.00 0 496 496 mgrid
sce
pgsave restore showpage

%%Trailer
XCIRCsave restore
%%EOF

%%EndDocument
 @endspecial 0 4353 a(Figure)34 b(3:)48 b(When)34 b(placing)f(hand)h
(routing,)h(it)e(is)g(best)h(to)f(place)h(wires)g(with)f(their)g(left)h
(and)g(bottom)e(edges)0 4473 y(along)24 b(grid)h(lines,)f(and)g
(contacts)h(centered)g(on)f(the)h(wires.)30 b(In)25 b(this)f(f)o
(ashion,)g(the)h(hand)f(routing)g(will)g(block)g(as)0
4594 y(fe)n(w)h(routing)e(grid)i(lines)f(as)h(possible.)146
4918 y(When)33 b(placing)f(hand-routing,)h(you)f(can)h(get)g(better)f
(routing)g(results)g(by)g(follo)n(wing)f(the)h(advice)h(illus-)0
5039 y(trated)28 b(in)f(Figure)h(3.)40 b(First,)28 b(display)f(the)g
(routing)g(grid.)39 b(F)o(or)28 b(e)o(xample,)f(if)h(the)g(router)f(is)
h(using)f(a)h(8-unit)f(grid)0 5159 y(\(which)21 b(is)g(true)g(for)h
(the)f(standard)g(SCMOS)i(technology\),)e(type)g Fc(:grid)g(8)p
Fe(.)30 b(Then)21 b(place)h(all)f(your)g(hand)g(routing)0
5280 y(with)j(its)f(left)i(and)f(bottom)f(edges)i(along)f(the)g(grid)g
(lines.)30 b(Because)25 b(of)g(the)f(w)o(ay)h(the)f(routing)f(tools)h
(w)o(ork,)g(this)0 5400 y(approach)h(results)f(in)g(the)h(least)g
(possible)e(amount)h(of)h(lost)f(routing)f(space.)1850
5649 y(\22612\226)p eop
%%Page: 13 13
13 12 bop 0 -180 a Fe(Magic)24 b(T)l(utorial)g(#7:)30
b(Netlists)23 b(and)i(Routing)1717 b(April)24 b(12,)h(2006)0
99 y Fg(9)143 b(Mor)m(e)36 b(Netlist)e(Commands)0 322
y Fe(In)22 b(addition)e(to)i(the)g(netlist)e(menu)i(b)n(uttons)e(and)i
(commands)e(described)i(in)g(Section)f(4,)i(there)f(are)g(a)h(number)e
(of)0 443 y(other)k(netlist)f(commands)f(you)i(can)g(in)l(v)n(ok)o(e)g
(by)g(typing)e(in)i(the)g(netlist)f(windo)n(w)-6 b(.)29
b(Man)o(y)24 b(of)h(these)g(commands)0 563 y(are)33 b(te)o(xtual)e
(equi)n(v)n(alents)f(of)j(the)f(menu)g(b)n(uttons.)51
b(Ho)n(we)n(v)o(er)l(,)33 b(the)o(y)e(allo)n(w)h(you)f(to)h(deal)h
(with)e(terminals)g(by)0 683 y(typing)23 b(the)h(hierarchical)h(name)f
(of)g(the)g(terminal)g(rather)h(than)e(by)h(pointing)f(to)h(it.)30
b(If)25 b(you)e(don')n(t)h(kno)n(w)g(where)0 804 y(a)32
b(terminal)e(is,)j(or)e(if)g(you)g(ha)n(v)o(e)g(deleted)h(a)f(label)h
(from)f(your)g(design)f(so)h(that)g(there')-5 b(s)31
b(nothing)f(to)h(point)g(to,)0 924 y(you')o(ll)g(ha)n(v)o(e)g(to)g(use)
h(the)g(te)o(xtual)e(commands.)50 b(Commands)31 b(that)g(don')n(t)g
(just)g(duplicate)g(menu)g(b)n(uttons)f(are)0 1045 y(described)25
b(belo)n(w;)e(see)i(the)g Ff(ma)o(gic\(1\))g Fe(manual)f(page)h(for)g
(details)f(on)g(the)h(others.)146 1165 y(The)g(netlist)f(command)900
1393 y Fc(:extract)146 1622 y Fe(will)f(generate)h(a)g(net)g(from)f(e)o
(xisting)f(wiring.)30 b(It)23 b(looks)g(under)h(the)f(box)g(for)h
(paint,)f(then)h(traces)g(out)f(all)g(the)0 1742 y(material)k(in)g(the)
h(edit)f(cell)g(that)g(is)g(connected)h(electrically)f(to)g(that)g
(paint.)39 b(Where)n(v)o(er)27 b(the)h(material)f(touches)0
1862 y(subcells)i(it)h(looks)f(for)h(terminals)g(in)f(the)h(subcells,)h
(and)f(all)g(the)g(terminals)f(it)h(\002nds)g(are)g(placed)h(into)e(a)i
(ne)n(w)0 1983 y(net.)f(W)-8 b(arning:)29 b(there)22
b(is)g(also)f(an)i Fc(extract)g Fe(command)e(for)h(layout)f(windo)n
(ws,)g(and)h(it)g(is)g(totally)f(dif)n(ferent)g(from)0
2103 y(the)j Fc(extract)g Fe(command)f(in)h(netlist)e(windo)n(ws.)29
b(Mak)o(e)24 b(sure)f(you')-5 b(v)o(e)24 b(got)f(the)g(cursor)h(o)o(v)o
(er)f(the)h(netlist)e(windo)n(w)0 2224 y(when)j(you)f(in)l(v)n(ok)o(e)g
(this)g(command!)146 2344 y(The)30 b(netlist)f(editor)g(pro)o(vides)g
(tw)o(o)g(commands)g(for)h(ripping)f(up)h(e)o(xisting)e(routing)h(\(or)
h(other)f(material\).)0 2464 y(The)o(y)24 b(are)900 2693
y Fc(:ripup)900 2813 y(:ripup)i(netlist)146 3041 y Fe(The)31
b(\002rst)f(command)g(starts)g(by)g(\002nding)g(an)o(y)g(paint)g(in)g
(the)g(edit)g(cell)g(that)g(lies)g(underneath)h(the)f(box.)47
b(It)0 3162 y(then)25 b(w)o(orks)g(outw)o(ard)f(from)h(that)g(paint)f
(to)h(\002nd)g(all)g(paint)g(in)f(the)h(edit)g(cell)g(that)g(is)g
(electrically)f(connected)h(to)0 3282 y(the)j(starting)g(paint.)42
b(All)28 b(of)g(this)g(paint)g(is)g(erased.)43 b(\()p
Fc(:ripup)30 b Fe(isn')n(t)e(really)h(necessary)-6 b(,)29
b(since)g(the)f(same)h(ef)n(fect)0 3402 y(can)24 b(be)g(achie)n(v)o(ed)
e(by)i(selecting)e(all)i(the)f(paint)g(in)g(the)h(net)f(and)h(deleting)
e(the)i(selection;)f(it')-5 b(s)22 b(a)i(hango)o(v)o(er)e(from)0
3523 y(olden)34 b(days)g(when)g(there)g(w)o(as)h(no)f(selection\).)58
b(The)34 b(second)g(form)g(of)h(the)f(command,)h Fc(:ripup)h(netlist)p
Fe(,)h(is)0 3643 y(similar)30 b(to)g(the)g(\002rst)h(e)o(xcept)f(that)g
(it)h(starts)f(from)g(each)h(of)g(the)g(terminals)e(in)h(the)h(current)
g(netlist)e(instead)h(of)0 3764 y(the)24 b(box.)30 b(An)o(y)24
b(paint)g(in)g(the)g(edit)g(cell)g(that)g(is)g(electrically)g
(connected)h(to)f(a)h(terminal)e(is)h(erased.)31 b(The)25
b Fc(:ripup)0 3884 y(netlist)g Fe(command)f(may)g(be)h(useful)g(to)f
(ripup)g(e)o(xisting)f(routing)h(before)h(rerouting.)146
4004 y(The)g(command)900 4233 y Fc(:trace)h Fe([)p Ff(name)p
Fe(])146 4461 y(pro)o(vides)f(an)h(additional)e(f)o(acility)h(for)h(e)o
(xamining)e(router)i(feedback.)34 b(It)26 b(highlights)d(all)j(paint)f
(connected)0 4581 y(to)30 b(each)h(terminal)e(in)h(the)h(net)f
(containing)f Ff(name)p Fe(,)i(much)f(as)h(the)f Fc(Sho)o(w)h
Fe(menu)f(b)n(utton)f(does)h(for)g(paint)g(con-)0 4702
y(nected)25 b(to)f(an)o(ything)f(under)h(the)h(box.)30
b(The)25 b(net)f(to)g(be)h(highlighted)e(may)h(be)h(speci\002ed)g(by)f
(naming)g(one)g(of)h(its)0 4822 y(terminals,)e(for)g(e)o(xample,)g
Fc(:trace)i(shifter/bit[0]/phi1)p Fe(.)31 b(Use)23 b(the)h(trace)g
(command)e(in)h(conjunction)g(with)f(the)0 4943 y(nets)29
b(speci\002ed)h(in)f(router)g(feedback)h(to)f(see)h(the)f(partially)f
(completed)h(wiring)g(for)g(a)h(net.)44 b(Where)30 b(no)f(net)h(is)0
5063 y(speci\002ed,)25 b(the)g Fc(:trace)g Fe(command)f(highlights)f
(the)h(currently)h(selected)g(net.)1850 5649 y(\22613\226)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
